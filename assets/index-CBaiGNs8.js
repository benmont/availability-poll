(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Ma={exports:{}},Ti={},La={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function E_(){if(Kf)return J;Kf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,b={};function K(E,x,q){this.props=E,this.context=x,this.refs=b,this.updater=q||O}K.prototype.isReactComponent={},K.prototype.setState=function(E,x){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,x,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Le(){}Le.prototype=K.prototype;function He(E,x,q){this.props=E,this.context=x,this.refs=b,this.updater=q||O}var H=He.prototype=new Le;H.constructor=He,F(H,K.prototype),H.isPureReactComponent=!0;var re=Array.isArray,ke=Object.prototype.hasOwnProperty,xe={current:null},ve={key:!0,ref:!0,__self:!0,__source:!0};function Fe(E,x,q){var te,se={},oe=null,fe=null;if(x!=null)for(te in x.ref!==void 0&&(fe=x.ref),x.key!==void 0&&(oe=""+x.key),x)ke.call(x,te)&&!ve.hasOwnProperty(te)&&(se[te]=x[te]);var ue=arguments.length-2;if(ue===1)se.children=q;else if(1<ue){for(var we=Array(ue),ft=0;ft<ue;ft++)we[ft]=arguments[ft+2];se.children=we}if(E&&E.defaultProps)for(te in ue=E.defaultProps,ue)se[te]===void 0&&(se[te]=ue[te]);return{$$typeof:i,type:E,key:oe,ref:fe,props:se,_owner:xe.current}}function Mt(E,x){return{$$typeof:i,type:E.type,key:x,ref:E.ref,props:E.props,_owner:E._owner}}function Ht(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function On(E){var x={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return x[q]})}var Lt=/\/+/g;function dt(E,x){return typeof E=="object"&&E!==null&&E.key!=null?On(""+E.key):x.toString(36)}function St(E,x,q,te,se){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var fe=!1;if(E===null)fe=!0;else switch(oe){case"string":case"number":fe=!0;break;case"object":switch(E.$$typeof){case i:case t:fe=!0}}if(fe)return fe=E,se=se(fe),E=te===""?"."+dt(fe,0):te,re(se)?(q="",E!=null&&(q=E.replace(Lt,"$&/")+"/"),St(se,x,q,"",function(ft){return ft})):se!=null&&(Ht(se)&&(se=Mt(se,q+(!se.key||fe&&fe.key===se.key?"":(""+se.key).replace(Lt,"$&/")+"/")+E)),x.push(se)),1;if(fe=0,te=te===""?".":te+":",re(E))for(var ue=0;ue<E.length;ue++){oe=E[ue];var we=te+dt(oe,ue);fe+=St(oe,x,q,we,se)}else if(we=I(E),typeof we=="function")for(E=we.call(E),ue=0;!(oe=E.next()).done;)oe=oe.value,we=te+dt(oe,ue++),fe+=St(oe,x,q,we,se);else if(oe==="object")throw x=String(E),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return fe}function Ft(E,x,q){if(E==null)return E;var te=[],se=0;return St(E,te,"","",function(oe){return x.call(q,oe,se++)}),te}function et(E){if(E._status===-1){var x=E._result;x=x(),x.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=x)}if(E._status===1)return E._result.default;throw E._result}var Ie={current:null},M={transition:null},Q={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:M,ReactCurrentOwner:xe};function U(){throw Error("act(...) is not supported in production builds of React.")}return J.Children={map:Ft,forEach:function(E,x,q){Ft(E,function(){x.apply(this,arguments)},q)},count:function(E){var x=0;return Ft(E,function(){x++}),x},toArray:function(E){return Ft(E,function(x){return x})||[]},only:function(E){if(!Ht(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},J.Component=K,J.Fragment=r,J.Profiler=a,J.PureComponent=He,J.StrictMode=o,J.Suspense=m,J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,J.act=U,J.cloneElement=function(E,x,q){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=F({},E.props),se=E.key,oe=E.ref,fe=E._owner;if(x!=null){if(x.ref!==void 0&&(oe=x.ref,fe=xe.current),x.key!==void 0&&(se=""+x.key),E.type&&E.type.defaultProps)var ue=E.type.defaultProps;for(we in x)ke.call(x,we)&&!ve.hasOwnProperty(we)&&(te[we]=x[we]===void 0&&ue!==void 0?ue[we]:x[we])}var we=arguments.length-2;if(we===1)te.children=q;else if(1<we){ue=Array(we);for(var ft=0;ft<we;ft++)ue[ft]=arguments[ft+2];te.children=ue}return{$$typeof:i,type:E.type,key:se,ref:oe,props:te,_owner:fe}},J.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},J.createElement=Fe,J.createFactory=function(E){var x=Fe.bind(null,E);return x.type=E,x},J.createRef=function(){return{current:null}},J.forwardRef=function(E){return{$$typeof:p,render:E}},J.isValidElement=Ht,J.lazy=function(E){return{$$typeof:k,_payload:{_status:-1,_result:E},_init:et}},J.memo=function(E,x){return{$$typeof:_,type:E,compare:x===void 0?null:x}},J.startTransition=function(E){var x=M.transition;M.transition={};try{E()}finally{M.transition=x}},J.unstable_act=U,J.useCallback=function(E,x){return Ie.current.useCallback(E,x)},J.useContext=function(E){return Ie.current.useContext(E)},J.useDebugValue=function(){},J.useDeferredValue=function(E){return Ie.current.useDeferredValue(E)},J.useEffect=function(E,x){return Ie.current.useEffect(E,x)},J.useId=function(){return Ie.current.useId()},J.useImperativeHandle=function(E,x,q){return Ie.current.useImperativeHandle(E,x,q)},J.useInsertionEffect=function(E,x){return Ie.current.useInsertionEffect(E,x)},J.useLayoutEffect=function(E,x){return Ie.current.useLayoutEffect(E,x)},J.useMemo=function(E,x){return Ie.current.useMemo(E,x)},J.useReducer=function(E,x,q){return Ie.current.useReducer(E,x,q)},J.useRef=function(E){return Ie.current.useRef(E)},J.useState=function(E){return Ie.current.useState(E)},J.useSyncExternalStore=function(E,x,q){return Ie.current.useSyncExternalStore(E,x,q)},J.useTransition=function(){return Ie.current.useTransition()},J.version="18.3.1",J}var Yf;function gu(){return Yf||(Yf=1,La.exports=E_()),La.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function C_(){if(qf)return Ti;qf=1;var i=gu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,w={},I=null,O=null;_!==void 0&&(I=""+_),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(w[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)w[k]===void 0&&(w[k]=m[k]);return{$$typeof:t,type:p,key:I,ref:O,props:w,_owner:a.current}}return Ti.Fragment=r,Ti.jsx=f,Ti.jsxs=f,Ti}var Xf;function S_(){return Xf||(Xf=1,Ma.exports=C_()),Ma.exports}var X=S_(),Tn=gu(),uo={},Fa={exports:{}},ot={},za={exports:{}},Ua={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function k_(){return Jf||(Jf=1,function(i){function t(M,Q){var U=M.length;M.push(Q);e:for(;0<U;){var E=U-1>>>1,x=M[E];if(0<a(x,Q))M[E]=Q,M[U]=x,U=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var Q=M[0],U=M.pop();if(U!==Q){M[0]=U;e:for(var E=0,x=M.length,q=x>>>1;E<q;){var te=2*(E+1)-1,se=M[te],oe=te+1,fe=M[oe];if(0>a(se,U))oe<x&&0>a(fe,se)?(M[E]=fe,M[oe]=U,E=oe):(M[E]=se,M[te]=U,E=te);else if(oe<x&&0>a(fe,U))M[E]=fe,M[oe]=U,E=oe;else break e}}return Q}function a(M,Q){var U=M.sortIndex-Q.sortIndex;return U!==0?U:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,w=null,I=3,O=!1,F=!1,b=!1,K=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,He=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(M){for(var Q=r(_);Q!==null;){if(Q.callback===null)o(_);else if(Q.startTime<=M)o(_),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=r(_)}}function re(M){if(b=!1,H(M),!F)if(r(m)!==null)F=!0,et(ke);else{var Q=r(_);Q!==null&&Ie(re,Q.startTime-M)}}function ke(M,Q){F=!1,b&&(b=!1,Le(Fe),Fe=-1),O=!0;var U=I;try{for(H(Q),w=r(m);w!==null&&(!(w.expirationTime>Q)||M&&!On());){var E=w.callback;if(typeof E=="function"){w.callback=null,I=w.priorityLevel;var x=E(w.expirationTime<=Q);Q=i.unstable_now(),typeof x=="function"?w.callback=x:w===r(m)&&o(m),H(Q)}else o(m);w=r(m)}if(w!==null)var q=!0;else{var te=r(_);te!==null&&Ie(re,te.startTime-Q),q=!1}return q}finally{w=null,I=U,O=!1}}var xe=!1,ve=null,Fe=-1,Mt=5,Ht=-1;function On(){return!(i.unstable_now()-Ht<Mt)}function Lt(){if(ve!==null){var M=i.unstable_now();Ht=M;var Q=!0;try{Q=ve(!0,M)}finally{Q?dt():(xe=!1,ve=null)}}else xe=!1}var dt;if(typeof He=="function")dt=function(){He(Lt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Ft=St.port2;St.port1.onmessage=Lt,dt=function(){Ft.postMessage(null)}}else dt=function(){K(Lt,0)};function et(M){ve=M,xe||(xe=!0,dt())}function Ie(M,Q){Fe=K(function(){M(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){F||O||(F=!0,et(ke))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(I){case 1:case 2:case 3:var Q=3;break;default:Q=I}var U=I;I=Q;try{return M()}finally{I=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=I;I=M;try{return Q()}finally{I=U}},i.unstable_scheduleCallback=function(M,Q,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=U+x,M={id:k++,callback:Q,priorityLevel:M,startTime:U,expirationTime:x,sortIndex:-1},U>E?(M.sortIndex=U,t(_,M),r(m)===null&&M===r(_)&&(b?(Le(Fe),Fe=-1):b=!0,Ie(re,U-E))):(M.sortIndex=x,t(m,M),F||O||(F=!0,et(ke))),M},i.unstable_shouldYield=On,i.unstable_wrapCallback=function(M){var Q=I;return function(){var U=I;I=Q;try{return M.apply(this,arguments)}finally{I=U}}}}(Ua)),Ua}var Zf;function I_(){return Zf||(Zf=1,za.exports=k_()),za.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function T_(){if(eh)return ot;eh=1;var i=gu(),t=I_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},w={};function I(e){return m.call(w,e)?!0:m.call(k,e)?!1:_.test(e)?w[e]=!0:(k[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new b(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var Le=/[\-:]([a-z])/g;function He(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Le,He);K[n]=new b(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Le,He);K[n]=new b(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Le,He);K[n]=new b(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,n,s,l){var u=K.hasOwnProperty(n)?K[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(F(n,s,u,l)&&(s=null),l||u===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var re=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),xe=Symbol.for("react.portal"),ve=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Mt=Symbol.for("react.profiler"),Ht=Symbol.for("react.provider"),On=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),M=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function x(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var q=!1;function te(e,n){if(!e||q)return"";q=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,g=d.length-1;1<=h&&0<=g&&u[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(u[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||u[h]!==d[g]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{q=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function se(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ve:return"Fragment";case xe:return"Portal";case Mt:return"Profiler";case Fe:return"StrictMode";case dt:return"Suspense";case St:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case On:return(e.displayName||"Context")+".Consumer";case Ht:return(e._context.displayName||"Context")+".Provider";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ft:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case et:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=we(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zi(e){e._valueTracker||(e._valueTracker=ft(e))}function Zu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=we(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jo(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ec(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ue(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function tc(e,n){n=n.checked,n!=null&&H(e,"checked",n,!1)}function bo(e,n){tc(e,n);var s=ue(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ho(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ho(e,n.type,ue(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function nc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ho(e,n,s){(n!=="number"||es(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var jr=Array.isArray;function nr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ue(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Vo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(jr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ue(s)}}function ic(e,n){var s=ue(n.value),l=ue(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function sc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?oc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function br(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Tm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function ac(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function uc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=ac(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Nm=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(e,n){if(n){if(Nm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Go(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,rr=null,ir=null;function cc(e){if(e=di(e)){if(typeof qo!="function")throw Error(r(280));var n=e.stateNode;n&&(n=ks(n),qo(e.stateNode,e.type,n))}}function dc(e){rr?ir?ir.push(e):ir=[e]:rr=e}function fc(){if(rr){var e=rr,n=ir;if(ir=rr=null,cc(e),n)for(e=0;e<n.length;e++)cc(n[e])}}function hc(e,n){return e(n)}function pc(){}var Xo=!1;function mc(e,n,s){if(Xo)return e(n,s);Xo=!0;try{return hc(e,n,s)}finally{Xo=!1,(rr!==null||ir!==null)&&(pc(),fc())}}function Vr(e,n){var s=e.stateNode;if(s===null)return null;var l=ks(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Jo=!1;if(p)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Jo=!1}function xm(e,n,s,l,u,d,h,g,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(R){this.onError(R)}}var Qr=!1,ns=null,rs=!1,Zo=null,Rm={onError:function(e){Qr=!0,ns=e}};function Pm(e,n,s,l,u,d,h,g,y){Qr=!1,ns=null,xm.apply(Rm,arguments)}function Dm(e,n,s,l,u,d,h,g,y){if(Pm.apply(this,arguments),Qr){if(Qr){var T=ns;Qr=!1,ns=null}else throw Error(r(198));rs||(rs=!0,Zo=T)}}function Mn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function gc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _c(e){if(Mn(e)!==e)throw Error(r(188))}function Am(e){var n=e.alternate;if(!n){if(n=Mn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return _c(u),e;if(d===l)return _c(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,g=u.child;g;){if(g===s){h=!0,s=u,l=d;break}if(g===l){h=!0,l=u,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=u;break}if(g===l){h=!0,l=d,s=u;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function yc(e){return e=Am(e),e!==null?vc(e):null}function vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=vc(e);if(n!==null)return n;e=e.sibling}return null}var wc=t.unstable_scheduleCallback,Ec=t.unstable_cancelCallback,Om=t.unstable_shouldYield,Mm=t.unstable_requestPaint,Re=t.unstable_now,Lm=t.unstable_getCurrentPriorityLevel,el=t.unstable_ImmediatePriority,Cc=t.unstable_UserBlockingPriority,is=t.unstable_NormalPriority,Fm=t.unstable_LowPriority,Sc=t.unstable_IdlePriority,ss=null,zt=null;function zm(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ss,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Wm,Um=Math.log,Bm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Um(e)/Bm|0)|0}var os=64,ls=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function as(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~u;g!==0?l=Gr(g):(d&=h,d!==0&&(l=Gr(d)))}else h=s&~u,h!==0?l=Gr(h):d!==0&&(l=Gr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-kt(n),u=1<<s,l|=e[s],n&=~u;return l}function jm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-kt(d),g=1<<h,y=u[h];y===-1?(!(g&s)||g&l)&&(u[h]=jm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kc(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function nl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Kr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-kt(n),e[n]=s}function Hm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-kt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function rl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-kt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ce=0;function Ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tc,il,Nc,xc,Rc,sl=!1,us=[],sn=null,on=null,ln=null,Yr=new Map,qr=new Map,an=[],Vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,n){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(n.pointerId)}}function Xr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=di(n),n!==null&&il(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function $m(e,n,s,l,u){switch(n){case"focusin":return sn=Xr(sn,e,n,s,l,u),!0;case"dragenter":return on=Xr(on,e,n,s,l,u),!0;case"mouseover":return ln=Xr(ln,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Yr.set(d,Xr(Yr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,qr.set(d,Xr(qr.get(d)||null,e,n,s,l,u)),!0}return!1}function Dc(e){var n=Ln(e.target);if(n!==null){var s=Mn(n);if(s!==null){if(n=s.tag,n===13){if(n=gc(s),n!==null){e.blockedOn=n,Rc(e.priority,function(){Nc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ll(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ko=l,s.target.dispatchEvent(l),Ko=null}else return n=di(s),n!==null&&il(n),e.blockedOn=s,!1;n.shift()}return!0}function Ac(e,n,s){cs(e)&&s.delete(n)}function Qm(){sl=!1,sn!==null&&cs(sn)&&(sn=null),on!==null&&cs(on)&&(on=null),ln!==null&&cs(ln)&&(ln=null),Yr.forEach(Ac),qr.forEach(Ac)}function Jr(e,n){e.blockedOn===n&&(e.blockedOn=null,sl||(sl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Qm)))}function Zr(e){function n(u){return Jr(u,e)}if(0<us.length){Jr(us[0],e);for(var s=1;s<us.length;s++){var l=us[s];l.blockedOn===e&&(l.blockedOn=null)}}for(sn!==null&&Jr(sn,e),on!==null&&Jr(on,e),ln!==null&&Jr(ln,e),Yr.forEach(n),qr.forEach(n),s=0;s<an.length;s++)l=an[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<an.length&&(s=an[0],s.blockedOn===null);)Dc(s),s.blockedOn===null&&an.shift()}var sr=re.ReactCurrentBatchConfig,ds=!0;function Gm(e,n,s,l){var u=ce,d=sr.transition;sr.transition=null;try{ce=1,ol(e,n,s,l)}finally{ce=u,sr.transition=d}}function Km(e,n,s,l){var u=ce,d=sr.transition;sr.transition=null;try{ce=4,ol(e,n,s,l)}finally{ce=u,sr.transition=d}}function ol(e,n,s,l){if(ds){var u=ll(e,n,s,l);if(u===null)kl(e,n,l,fs,s),Pc(e,l);else if($m(u,e,n,s,l))l.stopPropagation();else if(Pc(e,l),n&4&&-1<Vm.indexOf(e)){for(;u!==null;){var d=di(u);if(d!==null&&Tc(d),d=ll(e,n,s,l),d===null&&kl(e,n,l,fs,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else kl(e,n,l,null,s)}}var fs=null;function ll(e,n,s,l){if(fs=null,e=Yo(l),e=Ln(e),e!==null)if(n=Mn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=gc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return fs=e,null}function Oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case el:return 1;case Cc:return 4;case is:case Fm:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var un=null,al=null,hs=null;function Mc(){if(hs)return hs;var e,n=al,s=n.length,l,u="value"in un?un.value:un.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return hs=u.slice(e,1<l?1-l:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Lc(){return!1}function ht(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ms:Lc,this.isPropagationStopped=Lc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=ht(or),ei=U({},or,{view:0,detail:0}),Ym=ht(ei),cl,dl,ti,gs=U({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(cl=e.screenX-ti.screenX,dl=e.screenY-ti.screenY):dl=cl=0,ti=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Fc=ht(gs),qm=U({},gs,{dataTransfer:0}),Xm=ht(qm),Jm=U({},ei,{relatedTarget:0}),fl=ht(Jm),Zm=U({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=ht(Zm),tg=U({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=ht(tg),rg=U({},or,{data:0}),zc=ht(rg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=og[e])?!!n[e]:!1}function hl(){return lg}var ag=U({},ei,{key:function(e){if(e.key){var n=ig[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ug=ht(ag),cg=U({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=ht(cg),dg=U({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),fg=ht(dg),hg=U({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=ht(hg),mg=U({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=ht(mg),_g=[9,13,27,32],pl=p&&"CompositionEvent"in window,ni=null;p&&"documentMode"in document&&(ni=document.documentMode);var yg=p&&"TextEvent"in window&&!ni,Bc=p&&(!pl||ni&&8<ni&&11>=ni),Wc=" ",jc=!1;function bc(e,n){switch(e){case"keyup":return _g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function vg(e,n){switch(e){case"compositionend":return Hc(n);case"keypress":return n.which!==32?null:(jc=!0,Wc);case"textInput":return e=n.data,e===Wc&&jc?null:e;default:return null}}function wg(e,n){if(lr)return e==="compositionend"||!pl&&bc(e,n)?(e=Mc(),hs=al=un=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bc&&n.locale!=="ko"?null:n.data;default:return null}}var Eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Eg[e.type]:n==="textarea"}function $c(e,n,s,l){dc(l),n=Es(n,"onChange"),0<n.length&&(s=new ul("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ri=null,ii=null;function Cg(e){ud(e,0)}function _s(e){var n=fr(e);if(Zu(n))return e}function Sg(e,n){if(e==="change")return n}var Qc=!1;if(p){var ml;if(p){var gl="oninput"in document;if(!gl){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),gl=typeof Gc.oninput=="function"}ml=gl}else ml=!1;Qc=ml&&(!document.documentMode||9<document.documentMode)}function Kc(){ri&&(ri.detachEvent("onpropertychange",Yc),ii=ri=null)}function Yc(e){if(e.propertyName==="value"&&_s(ii)){var n=[];$c(n,ii,e,Yo(e)),mc(Cg,n)}}function kg(e,n,s){e==="focusin"?(Kc(),ri=n,ii=s,ri.attachEvent("onpropertychange",Yc)):e==="focusout"&&Kc()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _s(ii)}function Tg(e,n){if(e==="click")return _s(n)}function Ng(e,n){if(e==="input"||e==="change")return _s(n)}function xg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:xg;function si(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!It(e[u],n[u]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,n){var s=qc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=qc(s)}}function Jc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zc(){for(var e=window,n=es();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=es(e.document)}return n}function _l(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rg(e){var n=Zc(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Jc(s.ownerDocument.documentElement,s)){if(l!==null&&_l(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=Xc(s,d);var h=Xc(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=p&&"documentMode"in document&&11>=document.documentMode,ar=null,yl=null,oi=null,vl=!1;function ed(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vl||ar==null||ar!==es(l)||(l=ar,"selectionStart"in l&&_l(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oi&&si(oi,l)||(oi=l,l=Es(yl,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ar)))}function ys(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ur={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},wl={},td={};p&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function vs(e){if(wl[e])return wl[e];if(!ur[e])return e;var n=ur[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in td)return wl[e]=n[s];return e}var nd=vs("animationend"),rd=vs("animationiteration"),id=vs("animationstart"),sd=vs("transitionend"),od=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,n){od.set(e,n),c(n,[e])}for(var El=0;El<ld.length;El++){var Cl=ld[El],Dg=Cl.toLowerCase(),Ag=Cl[0].toUpperCase()+Cl.slice(1);cn(Dg,"on"+Ag)}cn(nd,"onAnimationEnd"),cn(rd,"onAnimationIteration"),cn(id,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(sd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function ad(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Dm(l,n,void 0,e),e.currentTarget=null}function ud(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,T=g.currentTarget;if(g=g.listener,y!==d&&u.isPropagationStopped())break e;ad(u,g,T),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,T=g.currentTarget,g=g.listener,y!==d&&u.isPropagationStopped())break e;ad(u,g,T),d=y}}}if(rs)throw e=Zo,rs=!1,Zo=null,e}function ge(e,n){var s=n[Pl];s===void 0&&(s=n[Pl]=new Set);var l=e+"__bubble";s.has(l)||(cd(n,e,2,!1),s.add(l))}function Sl(e,n,s){var l=0;n&&(l|=4),cd(s,e,l,n)}var ws="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[ws]){e[ws]=!0,o.forEach(function(s){s!=="selectionchange"&&(Og.has(s)||Sl(s,!1,e),Sl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ws]||(n[ws]=!0,Sl("selectionchange",!1,n))}}function cd(e,n,s,l){switch(Oc(n)){case 1:var u=Gm;break;case 4:u=Km;break;default:u=ol}s=u.bind(null,n,s,e),u=void 0,!Jo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function kl(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===u||g.nodeType===8&&g.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;g!==null;){if(h=Ln(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}mc(function(){var T=d,R=Yo(s),P=[];e:{var N=od.get(e);if(N!==void 0){var L=ul,B=e;switch(e){case"keypress":if(ps(s)===0)break e;case"keydown":case"keyup":L=ug;break;case"focusin":B="focus",L=fl;break;case"focusout":B="blur",L=fl;break;case"beforeblur":case"afterblur":L=fl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=fg;break;case nd:case rd:case id:L=eg;break;case sd:L=pg;break;case"scroll":L=Ym;break;case"wheel":L=gg;break;case"copy":case"cut":case"paste":L=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Uc}var W=(n&4)!==0,Pe=!W&&e==="scroll",C=W?N!==null?N+"Capture":null:N;W=[];for(var v=T,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,C!==null&&(D=Vr(v,C),D!=null&&W.push(ui(v,D,S)))),Pe)break;v=v.return}0<W.length&&(N=new L(N,B,null,s,R),P.push({event:N,listeners:W}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",N&&s!==Ko&&(B=s.relatedTarget||s.fromElement)&&(Ln(B)||B[Vt]))break e;if((L||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,L?(B=s.relatedTarget||s.toElement,L=T,B=B?Ln(B):null,B!==null&&(Pe=Mn(B),B!==Pe||B.tag!==5&&B.tag!==6)&&(B=null)):(L=null,B=T),L!==B)){if(W=Fc,D="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(W=Uc,D="onPointerLeave",C="onPointerEnter",v="pointer"),Pe=L==null?N:fr(L),S=B==null?N:fr(B),N=new W(D,v+"leave",L,s,R),N.target=Pe,N.relatedTarget=S,D=null,Ln(R)===T&&(W=new W(C,v+"enter",B,s,R),W.target=S,W.relatedTarget=Pe,D=W),Pe=D,L&&B)t:{for(W=L,C=B,v=0,S=W;S;S=cr(S))v++;for(S=0,D=C;D;D=cr(D))S++;for(;0<v-S;)W=cr(W),v--;for(;0<S-v;)C=cr(C),S--;for(;v--;){if(W===C||C!==null&&W===C.alternate)break t;W=cr(W),C=cr(C)}W=null}else W=null;L!==null&&dd(P,N,L,W,!1),B!==null&&Pe!==null&&dd(P,Pe,B,W,!0)}}e:{if(N=T?fr(T):window,L=N.nodeName&&N.nodeName.toLowerCase(),L==="select"||L==="input"&&N.type==="file")var j=Sg;else if(Vc(N))if(Qc)j=Ng;else{j=Ig;var V=kg}else(L=N.nodeName)&&L.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(j=Tg);if(j&&(j=j(e,T))){$c(P,j,s,R);break e}V&&V(e,N,T),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&Ho(N,"number",N.value)}switch(V=T?fr(T):window,e){case"focusin":(Vc(V)||V.contentEditable==="true")&&(ar=V,yl=T,oi=null);break;case"focusout":oi=yl=ar=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,ed(P,s,R);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":ed(P,s,R)}var $;if(pl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else lr?bc(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(Bc&&s.locale!=="ko"&&(lr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&lr&&($=Mc()):(un=R,al="value"in un?un.value:un.textContent,lr=!0)),V=Es(T,Y),0<V.length&&(Y=new zc(Y,e,null,s,R),P.push({event:Y,listeners:V}),$?Y.data=$:($=Hc(s),$!==null&&(Y.data=$)))),($=yg?vg(e,s):wg(e,s))&&(T=Es(T,"onBeforeInput"),0<T.length&&(R=new zc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:T}),R.data=$))}ud(P,n)})}function ui(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Es(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Vr(e,s),d!=null&&l.unshift(ui(e,d,u)),d=Vr(e,n),d!=null&&l.push(ui(e,d,u))),e=e.return}return l}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,T=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&T!==null&&(g=T,u?(y=Vr(s,d),y!=null&&h.unshift(ui(s,y,g))):u||(y=Vr(s,d),y!=null&&h.push(ui(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Mg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Lg,"")}function Cs(e,n,s){if(n=fd(n),fd(e)!==n&&s)throw Error(r(425))}function Ss(){}var Il=null,Tl=null;function Nl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(Ug)}:xl;function Ug(e){setTimeout(function(){throw e})}function Rl(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),Zr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);Zr(n)}function dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function pd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+dr,ci="__reactProps$"+dr,Vt="__reactContainer$"+dr,Pl="__reactEvents$"+dr,Bg="__reactListeners$"+dr,Wg="__reactHandles$"+dr;function Ln(e){var n=e[Ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Vt]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=pd(e);e!==null;){if(s=e[Ut])return s;e=pd(e)}return n}e=s,s=e.parentNode}return null}function di(e){return e=e[Ut]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function ks(e){return e[ci]||null}var Dl=[],hr=-1;function fn(e){return{current:e}}function _e(e){0>hr||(e.current=Dl[hr],Dl[hr]=null,hr--)}function he(e,n){hr++,Dl[hr]=e.current,e.current=n}var hn={},Ge=fn(hn),tt=fn(!1),Fn=hn;function pr(e,n){var s=e.type.contextTypes;if(!s)return hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function nt(e){return e=e.childContextTypes,e!=null}function Is(){_e(tt),_e(Ge)}function md(e,n,s){if(Ge.current!==hn)throw Error(r(168));he(Ge,n),he(tt,s)}function gd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,fe(e)||"Unknown",u));return U({},s,l)}function Ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Fn=Ge.current,he(Ge,e),he(tt,tt.current),!0}function _d(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=gd(e,n,Fn),l.__reactInternalMemoizedMergedChildContext=e,_e(tt),_e(Ge),he(Ge,e)):_e(tt),he(tt,s)}var $t=null,Ns=!1,Al=!1;function yd(e){$t===null?$t=[e]:$t.push(e)}function jg(e){Ns=!0,yd(e)}function pn(){if(!Al&&$t!==null){Al=!0;var e=0,n=ce;try{var s=$t;for(ce=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}$t=null,Ns=!1}catch(u){throw $t!==null&&($t=$t.slice(e+1)),wc(el,pn),u}finally{ce=n,Al=!1}}return null}var mr=[],gr=0,xs=null,Rs=0,_t=[],yt=0,zn=null,Qt=1,Gt="";function Un(e,n){mr[gr++]=Rs,mr[gr++]=xs,xs=e,Rs=n}function vd(e,n,s){_t[yt++]=Qt,_t[yt++]=Gt,_t[yt++]=zn,zn=e;var l=Qt;e=Gt;var u=32-kt(l)-1;l&=~(1<<u),s+=1;var d=32-kt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Qt=1<<32-kt(n)+u|s<<u|l,Gt=d+e}else Qt=1<<d|s<<u|l,Gt=e}function Ol(e){e.return!==null&&(Un(e,1),vd(e,1,0))}function Ml(e){for(;e===xs;)xs=mr[--gr],mr[gr]=null,Rs=mr[--gr],mr[gr]=null;for(;e===zn;)zn=_t[--yt],_t[yt]=null,Gt=_t[--yt],_t[yt]=null,Qt=_t[--yt],_t[yt]=null}var pt=null,mt=null,Ee=!1,Tt=null;function wd(e,n){var s=Ct(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Ed(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pt=e,mt=dn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pt=e,mt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=zn!==null?{id:Qt,overflow:Gt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Ct(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,pt=e,mt=null,!0):!1;default:return!1}}function Ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(Ee){var n=mt;if(n){var s=n;if(!Ed(e,n)){if(Ll(e))throw Error(r(418));n=dn(s.nextSibling);var l=pt;n&&Ed(e,n)?wd(l,s):(e.flags=e.flags&-4097|2,Ee=!1,pt=e)}}else{if(Ll(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ee=!1,pt=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Ps(e){if(e!==pt)return!1;if(!Ee)return Cd(e),Ee=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Nl(e.type,e.memoizedProps)),n&&(n=mt)){if(Ll(e))throw Sd(),Error(r(418));for(;n;)wd(e,n),n=dn(n.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){mt=dn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}mt=null}}else mt=pt?dn(e.stateNode.nextSibling):null;return!0}function Sd(){for(var e=mt;e;)e=dn(e.nextSibling)}function _r(){mt=pt=null,Ee=!1}function zl(e){Tt===null?Tt=[e]:Tt.push(e)}var bg=re.ReactCurrentBatchConfig;function fi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=u.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Ds(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function kd(e){var n=e._init;return n(e._payload)}function Id(e){function n(C,v){if(e){var S=C.deletions;S===null?(C.deletions=[v],C.flags|=16):S.push(v)}}function s(C,v){if(!e)return null;for(;v!==null;)n(C,v),v=v.sibling;return null}function l(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function u(C,v){return C=Cn(C,v),C.index=0,C.sibling=null,C}function d(C,v,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<v?(C.flags|=2,v):S):(C.flags|=2,v)):(C.flags|=1048576,v)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,v,S,D){return v===null||v.tag!==6?(v=xa(S,C.mode,D),v.return=C,v):(v=u(v,S),v.return=C,v)}function y(C,v,S,D){var j=S.type;return j===ve?R(C,v,S.props.children,D,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===et&&kd(j)===v.type)?(D=u(v,S.props),D.ref=fi(C,v,S),D.return=C,D):(D=to(S.type,S.key,S.props,null,C.mode,D),D.ref=fi(C,v,S),D.return=C,D)}function T(C,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Ra(S,C.mode,D),v.return=C,v):(v=u(v,S.children||[]),v.return=C,v)}function R(C,v,S,D,j){return v===null||v.tag!==7?(v=Qn(S,C.mode,D,j),v.return=C,v):(v=u(v,S),v.return=C,v)}function P(C,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xa(""+v,C.mode,S),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ke:return S=to(v.type,v.key,v.props,null,C.mode,S),S.ref=fi(C,null,v),S.return=C,S;case xe:return v=Ra(v,C.mode,S),v.return=C,v;case et:var D=v._init;return P(C,D(v._payload),S)}if(jr(v)||Q(v))return v=Qn(v,C.mode,S,null),v.return=C,v;Ds(C,v)}return null}function N(C,v,S,D){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:g(C,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ke:return S.key===j?y(C,v,S,D):null;case xe:return S.key===j?T(C,v,S,D):null;case et:return j=S._init,N(C,v,j(S._payload),D)}if(jr(S)||Q(S))return j!==null?null:R(C,v,S,D,null);Ds(C,S)}return null}function L(C,v,S,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(S)||null,g(v,C,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ke:return C=C.get(D.key===null?S:D.key)||null,y(v,C,D,j);case xe:return C=C.get(D.key===null?S:D.key)||null,T(v,C,D,j);case et:var V=D._init;return L(C,v,S,V(D._payload),j)}if(jr(D)||Q(D))return C=C.get(S)||null,R(v,C,D,j,null);Ds(v,D)}return null}function B(C,v,S,D){for(var j=null,V=null,$=v,Y=v=0,Be=null;$!==null&&Y<S.length;Y++){$.index>Y?(Be=$,$=null):Be=$.sibling;var le=N(C,$,S[Y],D);if(le===null){$===null&&($=Be);break}e&&$&&le.alternate===null&&n(C,$),v=d(le,v,Y),V===null?j=le:V.sibling=le,V=le,$=Be}if(Y===S.length)return s(C,$),Ee&&Un(C,Y),j;if($===null){for(;Y<S.length;Y++)$=P(C,S[Y],D),$!==null&&(v=d($,v,Y),V===null?j=$:V.sibling=$,V=$);return Ee&&Un(C,Y),j}for($=l(C,$);Y<S.length;Y++)Be=L($,C,Y,S[Y],D),Be!==null&&(e&&Be.alternate!==null&&$.delete(Be.key===null?Y:Be.key),v=d(Be,v,Y),V===null?j=Be:V.sibling=Be,V=Be);return e&&$.forEach(function(Sn){return n(C,Sn)}),Ee&&Un(C,Y),j}function W(C,v,S,D){var j=Q(S);if(typeof j!="function")throw Error(r(150));if(S=j.call(S),S==null)throw Error(r(151));for(var V=j=null,$=v,Y=v=0,Be=null,le=S.next();$!==null&&!le.done;Y++,le=S.next()){$.index>Y?(Be=$,$=null):Be=$.sibling;var Sn=N(C,$,le.value,D);if(Sn===null){$===null&&($=Be);break}e&&$&&Sn.alternate===null&&n(C,$),v=d(Sn,v,Y),V===null?j=Sn:V.sibling=Sn,V=Sn,$=Be}if(le.done)return s(C,$),Ee&&Un(C,Y),j;if($===null){for(;!le.done;Y++,le=S.next())le=P(C,le.value,D),le!==null&&(v=d(le,v,Y),V===null?j=le:V.sibling=le,V=le);return Ee&&Un(C,Y),j}for($=l(C,$);!le.done;Y++,le=S.next())le=L($,C,Y,le.value,D),le!==null&&(e&&le.alternate!==null&&$.delete(le.key===null?Y:le.key),v=d(le,v,Y),V===null?j=le:V.sibling=le,V=le);return e&&$.forEach(function(w_){return n(C,w_)}),Ee&&Un(C,Y),j}function Pe(C,v,S,D){if(typeof S=="object"&&S!==null&&S.type===ve&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ke:e:{for(var j=S.key,V=v;V!==null;){if(V.key===j){if(j=S.type,j===ve){if(V.tag===7){s(C,V.sibling),v=u(V,S.props.children),v.return=C,C=v;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===et&&kd(j)===V.type){s(C,V.sibling),v=u(V,S.props),v.ref=fi(C,V,S),v.return=C,C=v;break e}s(C,V);break}else n(C,V);V=V.sibling}S.type===ve?(v=Qn(S.props.children,C.mode,D,S.key),v.return=C,C=v):(D=to(S.type,S.key,S.props,null,C.mode,D),D.ref=fi(C,v,S),D.return=C,C=D)}return h(C);case xe:e:{for(V=S.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(C,v.sibling),v=u(v,S.children||[]),v.return=C,C=v;break e}else{s(C,v);break}else n(C,v);v=v.sibling}v=Ra(S,C.mode,D),v.return=C,C=v}return h(C);case et:return V=S._init,Pe(C,v,V(S._payload),D)}if(jr(S))return B(C,v,S,D);if(Q(S))return W(C,v,S,D);Ds(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(C,v.sibling),v=u(v,S),v.return=C,C=v):(s(C,v),v=xa(S,C.mode,D),v.return=C,C=v),h(C)):s(C,v)}return Pe}var yr=Id(!0),Td=Id(!1),As=fn(null),Os=null,vr=null,Ul=null;function Bl(){Ul=vr=Os=null}function Wl(e){var n=As.current;_e(As),e._currentValue=n}function jl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function wr(e,n){Os=e,Ul=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(rt=!0),e.firstContext=null)}function vt(e){var n=e._currentValue;if(Ul!==e)if(e={context:e,memoizedValue:n,next:null},vr===null){if(Os===null)throw Error(r(308));vr=e,Os.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return n}var Bn=null;function bl(e){Bn===null?Bn=[e]:Bn.push(e)}function Nd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,bl(n)):(s.next=u.next,u.next=s),n.interleaved=s,Kt(e,l)}function Kt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mn=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function gn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ie&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Kt(e,s)}return u=l.interleaved,u===null?(n.next=n,bl(l)):(n.next=u.next,u.next=n),l.interleaved=n,Kt(e,s)}function Ms(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}function Rd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Ls(e,n,s,l){var u=e.updateQueue;mn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,T=y.next;y.next=null,h===null?d=T:h.next=T,h=y;var R=e.alternate;R!==null&&(R=R.updateQueue,g=R.lastBaseUpdate,g!==h&&(g===null?R.firstBaseUpdate=T:g.next=T,R.lastBaseUpdate=y))}if(d!==null){var P=u.baseState;h=0,R=T=y=null,g=d;do{var N=g.lane,L=g.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:L,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var B=e,W=g;switch(N=n,L=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){P=B.call(L,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(L,P,N):B,N==null)break e;P=U({},P,N);break e;case 2:mn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[g]:N.push(g))}else L={eventTime:L,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},R===null?(T=R=L,y=P):R=R.next=L,h|=N;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;N=g,g=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(y=P),u.baseState=y,u.firstBaseUpdate=T,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);bn|=h,e.lanes=h,e.memoizedState=P}}function Pd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var hi={},Bt=fn(hi),pi=fn(hi),mi=fn(hi);function Wn(e){if(e===hi)throw Error(r(174));return e}function Vl(e,n){switch(he(mi,n),he(pi,e),he(Bt,hi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:$o(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=$o(n,e)}_e(Bt),he(Bt,n)}function Er(){_e(Bt),_e(pi),_e(mi)}function Dd(e){Wn(mi.current);var n=Wn(Bt.current),s=$o(n,e.type);n!==s&&(he(pi,e),he(Bt,s))}function $l(e){pi.current===e&&(_e(Bt),_e(pi))}var Ce=fn(0);function Fs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ql=[];function Gl(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var zs=re.ReactCurrentDispatcher,Kl=re.ReactCurrentBatchConfig,jn=0,Se=null,Ae=null,ze=null,Us=!1,gi=!1,_i=0,Hg=0;function Ke(){throw Error(r(321))}function Yl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!It(e[s],n[s]))return!1;return!0}function ql(e,n,s,l,u,d){if(jn=d,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zs.current=e===null||e.memoizedState===null?Gg:Kg,e=s(l,u),gi){d=0;do{if(gi=!1,_i=0,25<=d)throw Error(r(301));d+=1,ze=Ae=null,n.updateQueue=null,zs.current=Yg,e=s(l,u)}while(gi)}if(zs.current=js,n=Ae!==null&&Ae.next!==null,jn=0,ze=Ae=Se=null,Us=!1,n)throw Error(r(300));return e}function Xl(){var e=_i!==0;return _i=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Se.memoizedState=ze=e:ze=ze.next=e,ze}function wt(){if(Ae===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var n=ze===null?Se.memoizedState:ze.next;if(n!==null)ze=n,Ae=e;else{if(e===null)throw Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},ze===null?Se.memoizedState=ze=e:ze=ze.next=e}return ze}function yi(e,n){return typeof n=="function"?n(e):n}function Jl(e){var n=wt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ae,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var g=h=null,y=null,T=d;do{var R=T.lane;if((jn&R)===R)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:R,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,Se.lanes|=R,bn|=R}T=T.next}while(T!==null&&T!==d);y===null?h=l:y.next=g,It(l,n.memoizedState)||(rt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,Se.lanes|=d,bn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Zl(e){var n=wt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);It(d,n.memoizedState)||(rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Ad(){}function Od(e,n){var s=Se,l=wt(),u=n(),d=!It(l.memoizedState,u);if(d&&(l.memoizedState=u,rt=!0),l=l.queue,ea(Fd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,vi(9,Ld.bind(null,s,l,u,n),void 0,null),Ue===null)throw Error(r(349));jn&30||Md(s,n,u)}return u}function Md(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Se.updateQueue,n===null?(n={lastEffect:null,stores:null},Se.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ld(e,n,s,l){n.value=s,n.getSnapshot=l,zd(n)&&Ud(e)}function Fd(e,n,s){return s(function(){zd(n)&&Ud(e)})}function zd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!It(e,s)}catch{return!0}}function Ud(e){var n=Kt(e,1);n!==null&&Pt(n,e,1,-1)}function Bd(e){var n=Wt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n.queue=e,e=e.dispatch=Qg.bind(null,Se,e),[n.memoizedState,e]}function vi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Se.updateQueue,n===null?(n={lastEffect:null,stores:null},Se.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Wd(){return wt().memoizedState}function Bs(e,n,s,l){var u=Wt();Se.flags|=e,u.memoizedState=vi(1|n,s,void 0,l===void 0?null:l)}function Ws(e,n,s,l){var u=wt();l=l===void 0?null:l;var d=void 0;if(Ae!==null){var h=Ae.memoizedState;if(d=h.destroy,l!==null&&Yl(l,h.deps)){u.memoizedState=vi(n,s,d,l);return}}Se.flags|=e,u.memoizedState=vi(1|n,s,d,l)}function jd(e,n){return Bs(8390656,8,e,n)}function ea(e,n){return Ws(2048,8,e,n)}function bd(e,n){return Ws(4,2,e,n)}function Hd(e,n){return Ws(4,4,e,n)}function Vd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $d(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4,4,Vd.bind(null,n,e),s)}function ta(){}function Qd(e,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Yl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Gd(e,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Yl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function Kd(e,n,s){return jn&21?(It(s,n)||(s=kc(),Se.lanes|=s,bn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=s)}function Vg(e,n){var s=ce;ce=s!==0&&4>s?s:4,e(!0);var l=Kl.transition;Kl.transition={};try{e(!1),n()}finally{ce=s,Kl.transition=l}}function Yd(){return wt().memoizedState}function $g(e,n,s){var l=wn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},qd(e))Xd(n,s);else if(s=Nd(e,n,s,l),s!==null){var u=Ze();Pt(s,e,l,u),Jd(s,n,l)}}function Qg(e,n,s){var l=wn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Xd(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(u.hasEagerState=!0,u.eagerState=g,It(g,h)){var y=n.interleaved;y===null?(u.next=u,bl(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}s=Nd(e,n,u,l),s!==null&&(u=Ze(),Pt(s,e,l,u),Jd(s,n,l))}}function qd(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function Xd(e,n){gi=Us=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Jd(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}var js={readContext:vt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Gg={readContext:vt,useCallback:function(e,n){return Wt().memoizedState=[e,n===void 0?null:n],e},useContext:vt,useEffect:jd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Bs(4194308,4,Vd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bs(4,2,e,n)},useMemo:function(e,n){var s=Wt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Wt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=$g.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var n=Wt();return e={current:e},n.memoizedState=e},useState:Bd,useDebugValue:ta,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Bd(!1),n=e[0];return e=Vg.bind(null,e[1]),Wt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Se,u=Wt();if(Ee){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ue===null)throw Error(r(349));jn&30||Md(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,jd(Fd.bind(null,l,d,e),[e]),l.flags|=2048,vi(9,Ld.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Wt(),n=Ue.identifierPrefix;if(Ee){var s=Gt,l=Qt;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=_i++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Hg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kg={readContext:vt,useCallback:Qd,useContext:vt,useEffect:ea,useImperativeHandle:$d,useInsertionEffect:bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:Jl,useRef:Wd,useState:function(){return Jl(yi)},useDebugValue:ta,useDeferredValue:function(e){var n=wt();return Kd(n,Ae.memoizedState,e)},useTransition:function(){var e=Jl(yi)[0],n=wt().memoizedState;return[e,n]},useMutableSource:Ad,useSyncExternalStore:Od,useId:Yd,unstable_isNewReconciler:!1},Yg={readContext:vt,useCallback:Qd,useContext:vt,useEffect:ea,useImperativeHandle:$d,useInsertionEffect:bd,useLayoutEffect:Hd,useMemo:Gd,useReducer:Zl,useRef:Wd,useState:function(){return Zl(yi)},useDebugValue:ta,useDeferredValue:function(e){var n=wt();return Ae===null?n.memoizedState=e:Kd(n,Ae.memoizedState,e)},useTransition:function(){var e=Zl(yi)[0],n=wt().memoizedState;return[e,n]},useMutableSource:Ad,useSyncExternalStore:Od,useId:Yd,unstable_isNewReconciler:!1};function Nt(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function na(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bs={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Ze(),u=wn(e),d=Yt(l,u);d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,u),n!==null&&(Pt(n,e,u,l),Ms(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Ze(),u=wn(e),d=Yt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,u),n!==null&&(Pt(n,e,u,l),Ms(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ze(),l=wn(e),u=Yt(s,l);u.tag=2,n!=null&&(u.callback=n),n=gn(e,u,l),n!==null&&(Pt(n,e,l,s),Ms(n,e,l))}};function Zd(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!si(s,l)||!si(u,d):!0}function ef(e,n,s){var l=!1,u=hn,d=n.contextType;return typeof d=="object"&&d!==null?d=vt(d):(u=nt(n)?Fn:Ge.current,l=n.contextTypes,d=(l=l!=null)?pr(e,u):hn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=bs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function tf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&bs.enqueueReplaceState(n,n.state,null)}function ra(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Hl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=vt(d):(d=nt(n)?Fn:Ge.current,u.context=pr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(na(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&bs.enqueueReplaceState(u,u.state,null),Ls(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,n){try{var s="",l=n;do s+=se(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function ia(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function sa(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function nf(e,n,s){s=Yt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Ys||(Ys=!0,wa=l),sa(e,n)},s}function rf(e,n,s){s=Yt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){sa(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){sa(e,n),typeof l!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function sf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new qg;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=c_.bind(null,e,n,s),n.then(e,e))}function of(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function lf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Yt(-1,1),n.tag=2,gn(s,n,1))),s.lanes|=1),e)}var Xg=re.ReactCurrentOwner,rt=!1;function Je(e,n,s,l){n.child=e===null?Td(n,null,s,l):yr(n,e.child,s,l)}function af(e,n,s,l,u){s=s.render;var d=n.ref;return wr(n,u),l=ql(e,n,s,l,d,u),s=Xl(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,qt(e,n,u)):(Ee&&s&&Ol(n),n.flags|=1,Je(e,n,l,u),n.child)}function uf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Na(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,cf(e,n,d,l,u)):(e=to(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:si,s(h,l)&&e.ref===n.ref)return qt(e,n,u)}return n.flags|=1,e=Cn(d,l),e.ref=n.ref,e.return=n,n.child=e}function cf(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(si(d,l)&&e.ref===n.ref)if(rt=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(rt=!0);else return n.lanes=e.lanes,qt(e,n,u)}return oa(e,n,s,l,u)}function df(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(kr,gt),gt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,he(kr,gt),gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,he(kr,gt),gt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,he(kr,gt),gt|=l;return Je(e,n,u,s),n.child}function ff(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function oa(e,n,s,l,u){var d=nt(s)?Fn:Ge.current;return d=pr(n,d),wr(n,u),s=ql(e,n,s,l,d,u),l=Xl(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,qt(e,n,u)):(Ee&&l&&Ol(n),n.flags|=1,Je(e,n,s,u),n.child)}function hf(e,n,s,l,u){if(nt(s)){var d=!0;Ts(n)}else d=!1;if(wr(n,u),n.stateNode===null)Vs(e,n),ef(n,s,l),ra(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=vt(T):(T=nt(s)?Fn:Ge.current,T=pr(n,T));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==T)&&tf(n,h,l,T),mn=!1;var N=n.memoizedState;h.state=N,Ls(n,l,h,u),y=n.memoizedState,g!==l||N!==y||tt.current||mn?(typeof R=="function"&&(na(n,s,R,l),y=n.memoizedState),(g=mn||Zd(n,s,g,l,N,y,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,xd(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:Nt(n.type,g),h.props=T,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=vt(y):(y=nt(s)?Fn:Ge.current,y=pr(n,y));var L=s.getDerivedStateFromProps;(R=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||N!==y)&&tf(n,h,l,y),mn=!1,N=n.memoizedState,h.state=N,Ls(n,l,h,u);var B=n.memoizedState;g!==P||N!==B||tt.current||mn?(typeof L=="function"&&(na(n,s,L,l),B=n.memoizedState),(T=mn||Zd(n,s,T,l,N,B,y)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return la(e,n,s,l,d,u)}function la(e,n,s,l,u,d){ff(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&_d(n,s,!1),qt(e,n,d);l=n.stateNode,Xg.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=yr(n,e.child,null,d),n.child=yr(n,null,g,d)):Je(e,n,g,d),n.memoizedState=l.state,u&&_d(n,s,!0),n.child}function pf(e){var n=e.stateNode;n.pendingContext?md(e,n.pendingContext,n.pendingContext!==n.context):n.context&&md(e,n.context,!1),Vl(e,n.containerInfo)}function mf(e,n,s,l,u){return _r(),zl(u),n.flags|=256,Je(e,n,s,l),n.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function gf(e,n,s){var l=n.pendingProps,u=Ce.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(u&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),he(Ce,u&1),e===null)return Fl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=no(h,l,0,null),e=Qn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=ua(s),n.memoizedState=aa,e):ca(n,h));if(u=e.memoizedState,u!==null&&(g=u.dehydrated,g!==null))return Jg(e,n,h,l,g,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,g=u.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Cn(u,y),l.subtreeFlags=u.subtreeFlags&14680064),g!==null?d=Cn(g,d):(d=Qn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?ua(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=aa,l}return d=e.child,e=d.sibling,l=Cn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ca(e,n){return n=no({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Hs(e,n,s,l){return l!==null&&zl(l),yr(n,e.child,null,s),e=ca(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=ia(Error(r(422))),Hs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=no({mode:"visible",children:l.children},u,0,null),d=Qn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&yr(n,e.child,null,h),n.child.memoizedState=ua(h),n.memoizedState=aa,d);if(!(n.mode&1))return Hs(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=ia(d,l,void 0),Hs(e,n,h,l)}if(g=(h&e.childLanes)!==0,rt||g){if(l=Ue,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Kt(e,u),Pt(l,e,u,-1))}return Ta(),l=ia(Error(r(421))),Hs(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=d_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,mt=dn(u.nextSibling),pt=n,Ee=!0,Tt=null,e!==null&&(_t[yt++]=Qt,_t[yt++]=Gt,_t[yt++]=zn,Qt=e.id,Gt=e.overflow,zn=n),n=ca(n,l.children),n.flags|=4096,n)}function _f(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),jl(e.return,n,s)}function da(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function yf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(Je(e,n,l.children,s),l=Ce.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,s,n);else if(e.tag===19)_f(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(he(Ce,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Fs(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),da(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Fs(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}da(n,!0,s,null,d);break;case"together":da(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function qt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Cn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zg(e,n,s){switch(n.tag){case 3:pf(n),_r();break;case 5:Dd(n);break;case 1:nt(n.type)&&Ts(n);break;case 4:Vl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;he(As,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(he(Ce,Ce.current&1),n.flags|=128,null):s&n.child.childLanes?gf(e,n,s):(he(Ce,Ce.current&1),e=qt(e,n,s),e!==null?e.sibling:null);he(Ce,Ce.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return yf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),he(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,df(e,n,s)}return qt(e,n,s)}var vf,fa,wf,Ef;vf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},fa=function(){},wf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Wn(Bt.current);var d=null;switch(s){case"input":u=jo(e,u),l=jo(e,l),d=[];break;case"select":u=U({},u,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":u=Vo(e,u),l=Vo(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ss)}Qo(s,l);var h;s=null;for(T in u)if(!l.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var g=u[T];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var y=l[T];if(g=u!=null?u[T]:void 0,l.hasOwnProperty(T)&&y!==g&&(y!=null||g!=null))if(T==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&ge("scroll",e),d||g===y||(d=[])):(d=d||[]).push(T,y))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Ef=function(e,n,s,l){s!==l&&(n.flags|=4)};function wi(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function e_(e,n,s){var l=n.pendingProps;switch(Ml(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return nt(n.type)&&Is(),Ye(n),null;case 3:return l=n.stateNode,Er(),_e(tt),_e(Ge),Gl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ps(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Tt!==null&&(Sa(Tt),Tt=null))),fa(e,n),Ye(n),null;case 5:$l(n);var u=Wn(mi.current);if(s=n.type,e!==null&&n.stateNode!=null)wf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}if(e=Wn(Bt.current),Ps(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Ut]=n,l[ci]=d,e=(n.mode&1)!==0,s){case"dialog":ge("cancel",l),ge("close",l);break;case"iframe":case"object":case"embed":ge("load",l);break;case"video":case"audio":for(u=0;u<li.length;u++)ge(li[u],l);break;case"source":ge("error",l);break;case"img":case"image":case"link":ge("error",l),ge("load",l);break;case"details":ge("toggle",l);break;case"input":ec(l,d),ge("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},ge("invalid",l);break;case"textarea":rc(l,d),ge("invalid",l)}Qo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&Cs(l.textContent,g,e),u=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Cs(l.textContent,g,e),u=["children",""+g]):a.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&ge("scroll",l)}switch(s){case"input":Zi(l),nc(l,d,!0);break;case"textarea":Zi(l),sc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Ss)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ut]=n,e[ci]=l,vf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Go(s,l),s){case"dialog":ge("cancel",e),ge("close",e),u=l;break;case"iframe":case"object":case"embed":ge("load",e),u=l;break;case"video":case"audio":for(u=0;u<li.length;u++)ge(li[u],e);u=l;break;case"source":ge("error",e),u=l;break;case"img":case"image":case"link":ge("error",e),ge("load",e),u=l;break;case"details":ge("toggle",e),u=l;break;case"input":ec(e,l),u=jo(e,l),ge("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=U({},l,{value:void 0}),ge("invalid",e);break;case"textarea":rc(e,l),u=Vo(e,l),ge("invalid",e);break;default:u=l}Qo(s,u),g=u;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?uc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&lc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&br(e,y):typeof y=="number"&&br(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&ge("scroll",e):y!=null&&H(e,d,y,h))}switch(s){case"input":Zi(e),nc(e,l,!1);break;case"textarea":Zi(e),sc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ue(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?nr(e,!!l.multiple,d,!1):l.defaultValue!=null&&nr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ss)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ye(n),null;case 6:if(e&&n.stateNode!=null)Ef(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Wn(mi.current),Wn(Bt.current),Ps(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ut]=n,(d=l.nodeValue!==s)&&(e=pt,e!==null))switch(e.tag){case 3:Cs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ut]=n,n.stateNode=l}return Ye(n),null;case 13:if(_e(Ce),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&mt!==null&&n.mode&1&&!(n.flags&128))Sd(),_r(),n.flags|=98560,d=!1;else if(d=Ps(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=n}else _r(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ye(n),d=!1}else Tt!==null&&(Sa(Tt),Tt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ce.current&1?Oe===0&&(Oe=3):Ta())),n.updateQueue!==null&&(n.flags|=4),Ye(n),null);case 4:return Er(),fa(e,n),e===null&&ai(n.stateNode.containerInfo),Ye(n),null;case 10:return Wl(n.type._context),Ye(n),null;case 17:return nt(n.type)&&Is(),Ye(n),null;case 19:if(_e(Ce),d=n.memoizedState,d===null)return Ye(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)wi(d,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Fs(e),h!==null){for(n.flags|=128,wi(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return he(Ce,Ce.current&1|2),n.child}e=e.sibling}d.tail!==null&&Re()>Ir&&(n.flags|=128,l=!0,wi(d,!1),n.lanes=4194304)}else{if(!l)if(e=Fs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),wi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ee)return Ye(n),null}else 2*Re()-d.renderingStartTime>Ir&&s!==1073741824&&(n.flags|=128,l=!0,wi(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Re(),n.sibling=null,s=Ce.current,he(Ce,l?s&1|2:s&1),n):(Ye(n),null);case 22:case 23:return Ia(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?gt&1073741824&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function t_(e,n){switch(Ml(n),n.tag){case 1:return nt(n.type)&&Is(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Er(),_e(tt),_e(Ge),Gl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return $l(n),null;case 13:if(_e(Ce),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _e(Ce),null;case 4:return Er(),null;case 10:return Wl(n.type._context),null;case 22:case 23:return Ia(),null;case 24:return null;default:return null}}var $s=!1,qe=!1,n_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Sr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Te(e,n,l)}else s.current=null}function ha(e,n,s){try{s()}catch(l){Te(e,n,l)}}var Cf=!1;function r_(e,n){if(Il=ds,e=Zc(),_l(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,T=0,R=0,P=e,N=null;t:for(;;){for(var L;P!==s||u!==0&&P.nodeType!==3||(g=h+u),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(L=P.firstChild)!==null;)N=P,P=L;for(;;){if(P===e)break t;if(N===s&&++T===u&&(g=h),N===d&&++R===l&&(y=h),(L=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=L}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tl={focusedElem:e,selectionRange:s},ds=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Pe=B.memoizedState,C=n.stateNode,v=C.getSnapshotBeforeUpdate(n.elementType===n.type?W:Nt(n.type,W),Pe);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Te(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=Cf,Cf=!1,B}function Ei(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ha(n,s,d)}u=u.next}while(u!==l)}}function Qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function pa(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Sf(e){var n=e.alternate;n!==null&&(e.alternate=null,Sf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ut],delete n[ci],delete n[Pl],delete n[Bg],delete n[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kf(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ma(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ss));else if(l!==4&&(e=e.child,e!==null))for(ma(e,n,s),e=e.sibling;e!==null;)ma(e,n,s),e=e.sibling}function ga(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ga(e,n,s),e=e.sibling;e!==null;)ga(e,n,s),e=e.sibling}var Ve=null,xt=!1;function _n(e,n,s){for(s=s.child;s!==null;)Tf(e,n,s),s=s.sibling}function Tf(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ss,s)}catch{}switch(s.tag){case 5:qe||Sr(s,n);case 6:var l=Ve,u=xt;Ve=null,_n(e,n,s),Ve=l,xt=u,Ve!==null&&(xt?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(xt?(e=Ve,s=s.stateNode,e.nodeType===8?Rl(e.parentNode,s):e.nodeType===1&&Rl(e,s),Zr(e)):Rl(Ve,s.stateNode));break;case 4:l=Ve,u=xt,Ve=s.stateNode.containerInfo,xt=!0,_n(e,n,s),Ve=l,xt=u;break;case 0:case 11:case 14:case 15:if(!qe&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&ha(s,n,h),u=u.next}while(u!==l)}_n(e,n,s);break;case 1:if(!qe&&(Sr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Te(s,n,g)}_n(e,n,s);break;case 21:_n(e,n,s);break;case 22:s.mode&1?(qe=(l=qe)||s.memoizedState!==null,_n(e,n,s),qe=l):_n(e,n,s);break;default:_n(e,n,s)}}function Nf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new n_),n.forEach(function(l){var u=f_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Rt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:Ve=g.stateNode,xt=!1;break e;case 3:Ve=g.stateNode.containerInfo,xt=!0;break e;case 4:Ve=g.stateNode.containerInfo,xt=!0;break e}g=g.return}if(Ve===null)throw Error(r(160));Tf(d,h,u),Ve=null,xt=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(T){Te(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xf(n,e),n=n.sibling}function xf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(n,e),jt(e),l&4){try{Ei(3,e,e.return),Qs(3,e)}catch(W){Te(e,e.return,W)}try{Ei(5,e,e.return)}catch(W){Te(e,e.return,W)}}break;case 1:Rt(n,e),jt(e),l&512&&s!==null&&Sr(s,s.return);break;case 5:if(Rt(n,e),jt(e),l&512&&s!==null&&Sr(s,s.return),e.flags&32){var u=e.stateNode;try{br(u,"")}catch(W){Te(e,e.return,W)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&tc(u,d),Go(g,h);var T=Go(g,d);for(h=0;h<y.length;h+=2){var R=y[h],P=y[h+1];R==="style"?uc(u,P):R==="dangerouslySetInnerHTML"?lc(u,P):R==="children"?br(u,P):H(u,R,P,T)}switch(g){case"input":bo(u,d);break;case"textarea":ic(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var L=d.value;L!=null?nr(u,!!d.multiple,L,!1):N!==!!d.multiple&&(d.defaultValue!=null?nr(u,!!d.multiple,d.defaultValue,!0):nr(u,!!d.multiple,d.multiple?[]:"",!1))}u[ci]=d}catch(W){Te(e,e.return,W)}}break;case 6:if(Rt(n,e),jt(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(W){Te(e,e.return,W)}}break;case 3:if(Rt(n,e),jt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Zr(n.containerInfo)}catch(W){Te(e,e.return,W)}break;case 4:Rt(n,e),jt(e);break;case 13:Rt(n,e),jt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(va=Re())),l&4&&Nf(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(qe=(T=qe)||R,Rt(n,e),qe=T):Rt(n,e),jt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!R&&e.mode&1)for(z=e,R=e.child;R!==null;){for(P=z=R;z!==null;){switch(N=z,L=N.child,N.tag){case 0:case 11:case 14:case 15:Ei(4,N,N.return);break;case 1:Sr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Te(l,s,W)}}break;case 5:Sr(N,N.return);break;case 22:if(N.memoizedState!==null){Df(P);continue}}L!==null?(L.return=N,z=L):Df(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=ac("display",h))}catch(W){Te(e,e.return,W)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(W){Te(e,e.return,W)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Rt(n,e),jt(e),l&4&&Nf(e);break;case 21:break;default:Rt(n,e),jt(e)}}function jt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(kf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(br(u,""),l.flags&=-33);var d=If(e);ga(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,g=If(e);ma(e,g,h);break;default:throw Error(r(161))}}catch(y){Te(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function i_(e,n,s){z=e,Rf(e)}function Rf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||$s;if(!h){var g=u.alternate,y=g!==null&&g.memoizedState!==null||qe;g=$s;var T=qe;if($s=h,(qe=y)&&!T)for(z=u;z!==null;)h=z,y=h.child,h.tag===22&&h.memoizedState!==null?Af(u):y!==null?(y.return=h,z=y):Af(u);for(;d!==null;)z=d,Rf(d),d=d.sibling;z=u,$s=g,qe=T}Pf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,z=d):Pf(e)}}function Pf(e){for(;z!==null;){var n=z;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:qe||Qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!qe)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Nt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Pd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Pd(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var R=T.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&Zr(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}qe||n.flags&512&&pa(n)}catch(N){Te(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Df(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Af(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qs(4,n)}catch(y){Te(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(y){Te(n,u,y)}}var d=n.return;try{pa(n)}catch(y){Te(n,d,y)}break;case 5:var h=n.return;try{pa(n)}catch(y){Te(n,h,y)}}}catch(y){Te(n,n.return,y)}if(n===e){z=null;break}var g=n.sibling;if(g!==null){g.return=n.return,z=g;break}z=n.return}}var s_=Math.ceil,Gs=re.ReactCurrentDispatcher,_a=re.ReactCurrentOwner,Et=re.ReactCurrentBatchConfig,ie=0,Ue=null,De=null,$e=0,gt=0,kr=fn(0),Oe=0,Ci=null,bn=0,Ks=0,ya=0,Si=null,it=null,va=0,Ir=1/0,Xt=null,Ys=!1,wa=null,yn=null,qs=!1,vn=null,Xs=0,ki=0,Ea=null,Js=-1,Zs=0;function Ze(){return ie&6?Re():Js!==-1?Js:Js=Re()}function wn(e){return e.mode&1?ie&2&&$e!==0?$e&-$e:bg.transition!==null?(Zs===0&&(Zs=kc()),Zs):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Oc(e.type)),e):1}function Pt(e,n,s,l){if(50<ki)throw ki=0,Ea=null,Error(r(185));Kr(e,s,l),(!(ie&2)||e!==Ue)&&(e===Ue&&(!(ie&2)&&(Ks|=s),Oe===4&&En(e,$e)),st(e,l),s===1&&ie===0&&!(n.mode&1)&&(Ir=Re()+500,Ns&&pn()))}function st(e,n){var s=e.callbackNode;bm(e,n);var l=as(e,e===Ue?$e:0);if(l===0)s!==null&&Ec(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Ec(s),n===1)e.tag===0?jg(Mf.bind(null,e)):yd(Mf.bind(null,e)),zg(function(){!(ie&6)&&pn()}),s=null;else{switch(Ic(l)){case 1:s=el;break;case 4:s=Cc;break;case 16:s=is;break;case 536870912:s=Sc;break;default:s=is}s=bf(s,Of.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Of(e,n){if(Js=-1,Zs=0,ie&6)throw Error(r(327));var s=e.callbackNode;if(Tr()&&e.callbackNode!==s)return null;var l=as(e,e===Ue?$e:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=eo(e,l);else{n=l;var u=ie;ie|=2;var d=Ff();(Ue!==e||$e!==n)&&(Xt=null,Ir=Re()+500,Vn(e,n));do try{a_();break}catch(g){Lf(e,g)}while(!0);Bl(),Gs.current=d,ie=u,De!==null?n=0:(Ue=null,$e=0,n=Oe)}if(n!==0){if(n===2&&(u=tl(e),u!==0&&(l=u,n=Ca(e,u))),n===1)throw s=Ci,Vn(e,0),En(e,l),st(e,Re()),s;if(n===6)En(e,l);else{if(u=e.current.alternate,!(l&30)&&!o_(u)&&(n=eo(e,l),n===2&&(d=tl(e),d!==0&&(l=d,n=Ca(e,d))),n===1))throw s=Ci,Vn(e,0),En(e,l),st(e,Re()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:$n(e,it,Xt);break;case 3:if(En(e,l),(l&130023424)===l&&(n=va+500-Re(),10<n)){if(as(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){Ze(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=xl($n.bind(null,e,it,Xt),n);break}$n(e,it,Xt);break;case 4:if(En(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-kt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=Re()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*s_(l/1960))-l,10<l){e.timeoutHandle=xl($n.bind(null,e,it,Xt),l);break}$n(e,it,Xt);break;case 5:$n(e,it,Xt);break;default:throw Error(r(329))}}}return st(e,Re()),e.callbackNode===s?Of.bind(null,e):null}function Ca(e,n){var s=Si;return e.current.memoizedState.isDehydrated&&(Vn(e,n).flags|=256),e=eo(e,n),e!==2&&(n=it,it=s,n!==null&&Sa(n)),e}function Sa(e){it===null?it=e:it.push.apply(it,e)}function o_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!It(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function En(e,n){for(n&=~ya,n&=~Ks,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-kt(n),l=1<<s;e[s]=-1,n&=~l}}function Mf(e){if(ie&6)throw Error(r(327));Tr();var n=as(e,0);if(!(n&1))return st(e,Re()),null;var s=eo(e,n);if(e.tag!==0&&s===2){var l=tl(e);l!==0&&(n=l,s=Ca(e,l))}if(s===1)throw s=Ci,Vn(e,0),En(e,n),st(e,Re()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,$n(e,it,Xt),st(e,Re()),null}function ka(e,n){var s=ie;ie|=1;try{return e(n)}finally{ie=s,ie===0&&(Ir=Re()+500,Ns&&pn())}}function Hn(e){vn!==null&&vn.tag===0&&!(ie&6)&&Tr();var n=ie;ie|=1;var s=Et.transition,l=ce;try{if(Et.transition=null,ce=1,e)return e()}finally{ce=l,Et.transition=s,ie=n,!(ie&6)&&pn()}}function Ia(){gt=kr.current,_e(kr)}function Vn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fg(s)),De!==null)for(s=De.return;s!==null;){var l=s;switch(Ml(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Is();break;case 3:Er(),_e(tt),_e(Ge),Gl();break;case 5:$l(l);break;case 4:Er();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Wl(l.type._context);break;case 22:case 23:Ia()}s=s.return}if(Ue=e,De=e=Cn(e.current,null),$e=gt=n,Oe=0,Ci=null,ya=Ks=bn=0,it=Si=null,Bn!==null){for(n=0;n<Bn.length;n++)if(s=Bn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Bn=null}return e}function Lf(e,n){do{var s=De;try{if(Bl(),zs.current=js,Us){for(var l=Se.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Us=!1}if(jn=0,ze=Ae=Se=null,gi=!1,_i=0,_a.current=null,s===null||s.return===null){Oe=1,Ci=n,De=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=$e,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,R=g,P=R.tag;if(!(R.mode&1)&&(P===0||P===11||P===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var L=of(h);if(L!==null){L.flags&=-257,lf(L,h,g,d,n),L.mode&1&&sf(d,T,n),n=L,y=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(y),n.updateQueue=W}else B.add(y);break e}else{if(!(n&1)){sf(d,T,n),Ta();break e}y=Error(r(426))}}else if(Ee&&g.mode&1){var Pe=of(h);if(Pe!==null){!(Pe.flags&65536)&&(Pe.flags|=256),lf(Pe,h,g,d,n),zl(Cr(y,g));break e}}d=y=Cr(y,g),Oe!==4&&(Oe=2),Si===null?Si=[d]:Si.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=nf(d,y,n);Rd(d,C);break e;case 1:g=y;var v=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yn===null||!yn.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=rf(d,g,n);Rd(d,D);break e}}d=d.return}while(d!==null)}Uf(s)}catch(j){n=j,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Ff(){var e=Gs.current;return Gs.current=js,e===null?js:e}function Ta(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(bn&268435455)&&!(Ks&268435455)||En(Ue,$e)}function eo(e,n){var s=ie;ie|=2;var l=Ff();(Ue!==e||$e!==n)&&(Xt=null,Vn(e,n));do try{l_();break}catch(u){Lf(e,u)}while(!0);if(Bl(),ie=s,Gs.current=l,De!==null)throw Error(r(261));return Ue=null,$e=0,Oe}function l_(){for(;De!==null;)zf(De)}function a_(){for(;De!==null&&!Om();)zf(De)}function zf(e){var n=jf(e.alternate,e,gt);e.memoizedProps=e.pendingProps,n===null?Uf(e):De=n,_a.current=null}function Uf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=t_(s,n),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,De=null;return}}else if(s=e_(s,n,gt),s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);Oe===0&&(Oe=5)}function $n(e,n,s){var l=ce,u=Et.transition;try{Et.transition=null,ce=1,u_(e,n,s,l)}finally{Et.transition=u,ce=l}return null}function u_(e,n,s,l){do Tr();while(vn!==null);if(ie&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Hm(e,d),e===Ue&&(De=Ue=null,$e=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||qs||(qs=!0,bf(is,function(){return Tr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Et.transition,Et.transition=null;var h=ce;ce=1;var g=ie;ie|=4,_a.current=null,r_(e,s),xf(s,e),Rg(Tl),ds=!!Il,Tl=Il=null,e.current=s,i_(s),Mm(),ie=g,ce=h,Et.transition=d}else e.current=s;if(qs&&(qs=!1,vn=e,Xs=u),d=e.pendingLanes,d===0&&(yn=null),zm(s.stateNode),st(e,Re()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Ys)throw Ys=!1,e=wa,wa=null,e;return Xs&1&&e.tag!==0&&Tr(),d=e.pendingLanes,d&1?e===Ea?ki++:(ki=0,Ea=e):ki=0,pn(),null}function Tr(){if(vn!==null){var e=Ic(Xs),n=Et.transition,s=ce;try{if(Et.transition=null,ce=16>e?16:e,vn===null)var l=!1;else{if(e=vn,vn=null,Xs=0,ie&6)throw Error(r(331));var u=ie;for(ie|=4,z=e.current;z!==null;){var d=z,h=d.child;if(z.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var T=g[y];for(z=T;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:Ei(8,R,d)}var P=R.child;if(P!==null)P.return=R,z=P;else for(;z!==null;){R=z;var N=R.sibling,L=R.return;if(Sf(R),R===T){z=null;break}if(N!==null){N.return=L,z=N;break}z=L}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Pe=W.sibling;W.sibling=null,W=Pe}while(W!==null)}}z=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ei(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,z=C;break e}z=d.return}}var v=e.current;for(z=v;z!==null;){h=z;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,z=S;else e:for(h=v;z!==null;){if(g=z,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qs(9,g)}}catch(j){Te(g,g.return,j)}if(g===h){z=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,z=D;break e}z=g.return}}if(ie=u,pn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ss,e)}catch{}l=!0}return l}finally{ce=s,Et.transition=n}}return!1}function Bf(e,n,s){n=Cr(s,n),n=nf(e,n,1),e=gn(e,n,1),n=Ze(),e!==null&&(Kr(e,1,n),st(e,n))}function Te(e,n,s){if(e.tag===3)Bf(e,e,s);else for(;n!==null;){if(n.tag===3){Bf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yn===null||!yn.has(l))){e=Cr(s,e),e=rf(n,e,1),n=gn(n,e,1),e=Ze(),n!==null&&(Kr(n,1,e),st(n,e));break}}n=n.return}}function c_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Ze(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&($e&s)===s&&(Oe===4||Oe===3&&($e&130023424)===$e&&500>Re()-va?Vn(e,0):ya|=s),st(e,n)}function Wf(e,n){n===0&&(e.mode&1?(n=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):n=1);var s=Ze();e=Kt(e,n),e!==null&&(Kr(e,n,s),st(e,s))}function d_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wf(e,s)}function f_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wf(e,s)}var jf;jf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||tt.current)rt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return rt=!1,Zg(e,n,s);rt=!!(e.flags&131072)}else rt=!1,Ee&&n.flags&1048576&&vd(n,Rs,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Vs(e,n),e=n.pendingProps;var u=pr(n,Ge.current);wr(n,s),u=ql(null,n,l,e,u,s);var d=Xl();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nt(l)?(d=!0,Ts(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Hl(n),u.updater=bs,n.stateNode=u,u._reactInternals=n,ra(n,l,e,s),n=la(null,n,l,!0,d,s)):(n.tag=0,Ee&&d&&Ol(n),Je(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Vs(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=p_(l),e=Nt(l,e),u){case 0:n=oa(null,n,l,e,s);break e;case 1:n=hf(null,n,l,e,s);break e;case 11:n=af(null,n,l,e,s);break e;case 14:n=uf(null,n,l,Nt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Nt(l,u),oa(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Nt(l,u),hf(e,n,l,u,s);case 3:e:{if(pf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,xd(e,n),Ls(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Cr(Error(r(423)),n),n=mf(e,n,l,s,u);break e}else if(l!==u){u=Cr(Error(r(424)),n),n=mf(e,n,l,s,u);break e}else for(mt=dn(n.stateNode.containerInfo.firstChild),pt=n,Ee=!0,Tt=null,s=Td(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_r(),l===u){n=qt(e,n,s);break e}Je(e,n,l,s)}n=n.child}return n;case 5:return Dd(n),e===null&&Fl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Nl(l,u)?h=null:d!==null&&Nl(l,d)&&(n.flags|=32),ff(e,n),Je(e,n,h,s),n.child;case 6:return e===null&&Fl(n),null;case 13:return gf(e,n,s);case 4:return Vl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=yr(n,null,l,s):Je(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Nt(l,u),af(e,n,l,u,s);case 7:return Je(e,n,n.pendingProps,s),n.child;case 8:return Je(e,n,n.pendingProps.children,s),n.child;case 12:return Je(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,he(As,l._currentValue),l._currentValue=h,d!==null)if(It(d.value,h)){if(d.children===u.children&&!tt.current){n=qt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=Yt(-1,s&-s),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var R=T.pending;R===null?y.next=y:(y.next=R.next,R.next=y),T.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),jl(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),jl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Je(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,wr(n,s),u=vt(u),l=l(u),n.flags|=1,Je(e,n,l,s),n.child;case 14:return l=n.type,u=Nt(l,n.pendingProps),u=Nt(l.type,u),uf(e,n,l,u,s);case 15:return cf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Nt(l,u),Vs(e,n),n.tag=1,nt(l)?(e=!0,Ts(n)):e=!1,wr(n,s),ef(n,l,u),ra(n,l,u,s),la(null,n,l,!0,e,s);case 19:return yf(e,n,s);case 22:return df(e,n,s)}throw Error(r(156,n.tag))};function bf(e,n){return wc(e,n)}function h_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,s,l){return new h_(e,n,s,l)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p_(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lt)return 11;if(e===Ft)return 14}return 2}function Cn(e,n){var s=e.alternate;return s===null?(s=Ct(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function to(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Na(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ve:return Qn(s.children,u,d,n);case Fe:h=8,u|=8;break;case Mt:return e=Ct(12,s,n,u|2),e.elementType=Mt,e.lanes=d,e;case dt:return e=Ct(13,s,n,u),e.elementType=dt,e.lanes=d,e;case St:return e=Ct(19,s,n,u),e.elementType=St,e.lanes=d,e;case Ie:return no(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ht:h=10;break e;case On:h=9;break e;case Lt:h=11;break e;case Ft:h=14;break e;case et:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Ct(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Qn(e,n,s,l){return e=Ct(7,e,l,n),e.lanes=s,e}function no(e,n,s,l){return e=Ct(22,e,l,n),e.elementType=Ie,e.lanes=s,e.stateNode={isHidden:!1},e}function xa(e,n,s){return e=Ct(6,e,null,n),e.lanes=s,e}function Ra(e,n,s){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function m_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Pa(e,n,s,l,u,d,h,g,y){return e=new m_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Ct(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(d),e}function g_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Hf(e){if(!e)return hn;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(nt(s))return gd(e,s,n)}return n}function Vf(e,n,s,l,u,d,h,g,y){return e=Pa(s,l,!0,e,u,d,h,g,y),e.context=Hf(null),s=e.current,l=Ze(),u=wn(s),d=Yt(l,u),d.callback=n??null,gn(s,d,u),e.current.lanes=u,Kr(e,u,l),st(e,l),e}function ro(e,n,s,l){var u=n.current,d=Ze(),h=wn(u);return s=Hf(s),n.context===null?n.context=s:n.pendingContext=s,n=Yt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=gn(u,n,h),e!==null&&(Pt(e,u,h,d),Ms(e,u,h)),h}function io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $f(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Da(e,n){$f(e,n),(e=e.alternate)&&$f(e,n)}var Qf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Aa(e){this._internalRoot=e}so.prototype.render=Aa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ro(e,n,null,null)},so.prototype.unmount=Aa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hn(function(){ro(null,e,null,null)}),n[Vt]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var n=xc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<an.length&&n!==0&&n<an[s].priority;s++);an.splice(s,0,e),s===0&&Dc(e)}};function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function __(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var T=io(h);d.call(T)}}var h=Vf(n,l,e,0,null,!1,!1,"",Gf);return e._reactRootContainer=h,e[Vt]=h.current,ai(e.nodeType===8?e.parentNode:e),Hn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var g=l;l=function(){var T=io(y);g.call(T)}}var y=Pa(e,0,!1,null,null,!1,!1,"",Gf);return e._reactRootContainer=y,e[Vt]=y.current,ai(e.nodeType===8?e.parentNode:e),Hn(function(){ro(n,y,s,l)}),y}function lo(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var g=u;u=function(){var y=io(h);g.call(y)}}ro(n,h,e,u)}else h=__(s,n,e,u,l);return io(h)}Tc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Gr(n.pendingLanes);s!==0&&(rl(n,s|1),st(n,Re()),!(ie&6)&&(Ir=Re()+500,pn()))}break;case 13:Hn(function(){var l=Kt(e,1);if(l!==null){var u=Ze();Pt(l,e,1,u)}}),Da(e,1)}},il=function(e){if(e.tag===13){var n=Kt(e,134217728);if(n!==null){var s=Ze();Pt(n,e,134217728,s)}Da(e,134217728)}},Nc=function(e){if(e.tag===13){var n=wn(e),s=Kt(e,n);if(s!==null){var l=Ze();Pt(s,e,n,l)}Da(e,n)}},xc=function(){return ce},Rc=function(e,n){var s=ce;try{return ce=e,n()}finally{ce=s}},qo=function(e,n,s){switch(n){case"input":if(bo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=ks(l);if(!u)throw Error(r(90));Zu(l),bo(l,u)}}}break;case"textarea":ic(e,s);break;case"select":n=s.value,n!=null&&nr(e,!!s.multiple,n,!1)}},hc=ka,pc=Hn;var y_={usingClientEntryPoint:!1,Events:[di,fr,ks,dc,fc,ka]},Ii={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{ss=ao.inject(v_),zt=ao}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,ot.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(n))throw Error(r(200));return g_(e,n,null,s)},ot.createRoot=function(e,n){if(!Oa(e))throw Error(r(299));var s=!1,l="",u=Qf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Pa(e,1,!1,null,null,s,!1,l,u),e[Vt]=n.current,ai(e.nodeType===8?e.parentNode:e),new Aa(n)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=yc(n),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Hn(e)},ot.hydrate=function(e,n,s){if(!oo(n))throw Error(r(200));return lo(null,e,n,!0,s)},ot.hydrateRoot=function(e,n,s){if(!Oa(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=Qf;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Vf(n,null,e,1,s??null,u,!1,d,h),e[Vt]=n.current,ai(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new so(n)},ot.render=function(e,n,s){if(!oo(n))throw Error(r(200));return lo(null,e,n,!1,s)},ot.unmountComponentAtNode=function(e){if(!oo(e))throw Error(r(40));return e._reactRootContainer?(Hn(function(){lo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1},ot.unstable_batchedUpdates=ka,ot.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!oo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return lo(e,n,s,!1,l)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var th;function N_(){if(th)return Fa.exports;th=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Fa.exports=T_(),Fa.exports}var nh;function x_(){if(nh)return uo;nh=1;var i=N_();return uo.createRoot=i.createRoot,uo.hydrateRoot=i.hydrateRoot,uo}var R_=x_(),rh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(i,t){if(!i)throw zr(t)},zr=function(i){return new Error("Firebase Database ("+Xh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},P_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},_u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,_=m?i[a+2]:0,k=c>>2,w=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,O=_&63;m||(O=64,f||(I=64)),o.push(r[k],r[w],r[I],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Jh(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):P_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const _=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||_==null||w==null)throw new D_;const I=c<<2|p>>4;if(o.push(I),_!==64){const O=p<<4&240|_>>2;if(o.push(O),w!==64){const F=_<<6&192|w;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class D_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zh=function(i){const t=Jh(i);return _u.encodeByteArray(t,!0)},po=function(i){return Zh(i).replace(/\./g,"")},qa=function(i){try{return _u.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(i){return ep(void 0,i)}function ep(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!O_(r)||(i[r]=ep(i[r],t[r]));return i}function O_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=()=>M_().__FIREBASE_DEFAULTS__,F_=()=>{if(typeof process>"u"||typeof rh>"u")return;const i=rh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},z_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&qa(i[1]);return t&&JSON.parse(t)},tp=()=>{try{return L_()||F_()||z_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},U_=i=>{var t,r;return(r=(t=tp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},B_=i=>{const t=U_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},np=()=>{var i;return(i=tp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[po(JSON.stringify(r)),po(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j_())}function b_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H_(){return Xh.NODE_ADMIN===!0}function V_(){try{return typeof indexedDB=="object"}catch{return!1}}function $_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="FirebaseError";class Qi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Q_,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ip.prototype.create)}}class ip{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?G_(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Qi(a,p,o)}}function G_(i,t){return i.replace(K_,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const K_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i){return JSON.parse(i)}function be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=zi(qa(c[0])||""),r=zi(qa(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},Y_=function(i){const t=sp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},q_=function(i){const t=sp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Or(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function ih(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function mo(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function Xa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(sh(c)&&sh(f)){if(!Xa(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function sh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const I=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(I<<1|I>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,k;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),k=1518500249):(_=c^f^p,k=1859775393):w<60?(_=c&f|p&(c|f),k=2400959708):(_=c^f^p,k=3395469782);const I=(a<<5|a>>>27)+_+m+k+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=I}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function yu(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,A(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Ao=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(i){return i&&i._delegate?i._delegate:i}class Ui{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Do;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ny(t))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Gn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gn){return this.instances.has(t)}getOptions(t=Gn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ty(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Gn){return this.component?this.component.multipleInstances?t:Gn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ty(i){return i===Gn?void 0:i}function ny(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ey(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(pe||(pe={}));const iy={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},sy=pe.INFO,oy={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ly=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=oy[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class op{constructor(t){this.name=t,this._logLevel=sy,this._logHandler=ly,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const ay=(i,t)=>t.some(r=>i instanceof r);let oh,lh;function uy(){return oh||(oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cy(){return lh||(lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lp=new WeakMap,Ja=new WeakMap,ap=new WeakMap,Ba=new WeakMap,vu=new WeakMap;function dy(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Nn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&lp.set(r,i)}).catch(()=>{}),vu.set(t,i),t}function fy(i){if(Ja.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Ja.set(i,t)}let Za={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Ja.get(i);if(t==="objectStoreNames")return i.objectStoreNames||ap.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Nn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function hy(i){Za=i(Za)}function py(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Wa(this),t,...r);return ap.set(o,t.sort?t.sort():[t]),Nn(o)}:cy().includes(i)?function(...t){return i.apply(Wa(this),t),Nn(lp.get(this))}:function(...t){return Nn(i.apply(Wa(this),t))}}function my(i){return typeof i=="function"?py(i):(i instanceof IDBTransaction&&fy(i),ay(i,uy())?new Proxy(i,Za):i)}function Nn(i){if(i instanceof IDBRequest)return dy(i);if(Ba.has(i))return Ba.get(i);const t=my(i);return t!==i&&(Ba.set(i,t),vu.set(t,i)),t}const Wa=i=>vu.get(i);function gy(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=Nn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Nn(f.result),m.oldVersion,m.newVersion,Nn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const _y=["get","getKey","getAll","getAllKeys","count"],yy=["put","add","delete","clear"],ja=new Map;function ah(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(ja.get(t))return ja.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=yy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||_y.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),a&&m.done]))[0]};return ja.set(t,c),c}hy(i=>({...i,get:(t,r,o)=>ah(t,r)||i.get(t,r,o),has:(t,r)=>!!ah(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function wy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const eu="@firebase/app",uh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new op("@firebase/app"),Ey="@firebase/app-compat",Cy="@firebase/analytics-compat",Sy="@firebase/analytics",ky="@firebase/app-check-compat",Iy="@firebase/app-check",Ty="@firebase/auth",Ny="@firebase/auth-compat",xy="@firebase/database",Ry="@firebase/data-connect",Py="@firebase/database-compat",Dy="@firebase/functions",Ay="@firebase/functions-compat",Oy="@firebase/installations",My="@firebase/installations-compat",Ly="@firebase/messaging",Fy="@firebase/messaging-compat",zy="@firebase/performance",Uy="@firebase/performance-compat",By="@firebase/remote-config",Wy="@firebase/remote-config-compat",jy="@firebase/storage",by="@firebase/storage-compat",Hy="@firebase/firestore",Vy="@firebase/vertexai",$y="@firebase/firestore-compat",Qy="firebase",Gy="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="[DEFAULT]",Ky={[eu]:"fire-core",[Ey]:"fire-core-compat",[Sy]:"fire-analytics",[Cy]:"fire-analytics-compat",[Iy]:"fire-app-check",[ky]:"fire-app-check-compat",[Ty]:"fire-auth",[Ny]:"fire-auth-compat",[xy]:"fire-rtdb",[Ry]:"fire-data-connect",[Py]:"fire-rtdb-compat",[Dy]:"fire-fn",[Ay]:"fire-fn-compat",[Oy]:"fire-iid",[My]:"fire-iid-compat",[Ly]:"fire-fcm",[Fy]:"fire-fcm-compat",[zy]:"fire-perf",[Uy]:"fire-perf-compat",[By]:"fire-rc",[Wy]:"fire-rc-compat",[jy]:"fire-gcs",[by]:"fire-gcs-compat",[Hy]:"fire-fst",[$y]:"fire-fst-compat",[Vy]:"fire-vertex","fire-js":"fire-js",[Qy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,Yy=new Map,nu=new Map;function ch(i,t){try{i.container.addComponent(t)}catch(r){en.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function _o(i){const t=i.name;if(nu.has(t))return en.debug(`There were multiple attempts to register component ${t}.`),!1;nu.set(t,i);for(const r of go.values())ch(r,i);for(const r of Yy.values())ch(r,i);return!0}function qy(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xn=new ip("app","Firebase",Xy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=Gy;function up(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:tu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw xn.create("bad-app-name",{appName:String(a)});if(r||(r=np()),!r)throw xn.create("no-options");const c=go.get(a);if(c){if(Xa(r,c.options)&&Xa(o,c.config))return c;throw xn.create("duplicate-app",{appName:a})}const f=new ry(a);for(const m of nu.values())f.addComponent(m);const p=new Jy(r,o,f);return go.set(a,p),p}function ev(i=tu){const t=go.get(i);if(!t&&i===tu&&np())return up();if(!t)throw xn.create("no-app",{appName:i});return t}function Rr(i,t,r){var o;let a=(o=Ky[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),en.warn(p.join(" "));return}_o(new Ui(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="firebase-heartbeat-database",nv=1,Bi="firebase-heartbeat-store";let ba=null;function cp(){return ba||(ba=gy(tv,nv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Bi)}catch(r){console.warn(r)}}}}).catch(i=>{throw xn.create("idb-open",{originalErrorMessage:i.message})})),ba}async function rv(i){try{const r=(await cp()).transaction(Bi),o=await r.objectStore(Bi).get(dp(i));return await r.done,o}catch(t){if(t instanceof Qi)en.warn(t.message);else{const r=xn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});en.warn(r.message)}}}async function dh(i,t){try{const o=(await cp()).transaction(Bi,"readwrite");await o.objectStore(Bi).put(t,dp(i)),await o.done}catch(r){if(r instanceof Qi)en.warn(r.message);else{const o=xn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});en.warn(o.message)}}}function dp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=1024,sv=30*24*60*60*1e3;class ov{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new av(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=fh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=sv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){en.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fh(),{heartbeatsToSend:o,unsentEntries:a}=lv(this._heartbeatsCache.heartbeats),c=po(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return en.warn(r),""}}}function fh(){return new Date().toISOString().substring(0,10)}function lv(i,t=iv){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),hh(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),hh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class av{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V_()?$_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return dh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return dh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function hh(i){return po(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(i){_o(new Ui("platform-logger",t=>new vy(t),"PRIVATE")),_o(new Ui("heartbeat",t=>new ov(t),"PRIVATE")),Rr(eu,uh,i),Rr(eu,uh,"esm2017"),Rr("fire-js","")}uv("");var ph={};const mh="@firebase/database",gh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp="";function cv(i){fp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:zi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dv(t)}}catch{}return new fv},Yn=hp("localStorage"),hv=hp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new op("@firebase/database"),pv=function(){let i=1;return function(){return i++}}(),pp=function(i){const t=Z_(i),r=new J_;r.update(t);const o=r.digest();return _u.encodeByteArray(o)},Ki=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Ki.apply(null,o):typeof o=="object"?t+=be(o):t+=o,t+=" "}return t};let Ai=null,_h=!0;const mv=function(i,t){A(!0,"Can't turn on custom loggers persistently."),Pr.logLevel=pe.VERBOSE,Ai=Pr.log.bind(Pr)},Xe=function(...i){if(_h===!0&&(_h=!1,Ai===null&&hv.get("logging_enabled")===!0&&mv()),Ai){const t=Ki.apply(null,i);Ai(t)}},Yi=function(i){return function(...t){Xe(i,...t)}},ru=function(...i){const t="FIREBASE INTERNAL ERROR: "+Ki(...i);Pr.error(t)},tn=function(...i){const t=`FIREBASE FATAL ERROR: ${Ki(...i)}`;throw Pr.error(t),new Error(t)},ut=function(...i){const t="FIREBASE WARNING: "+Ki(...i);Pr.warn(t)},gv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},_v=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Mr="[MIN_NAME]",Xn="[MAX_NAME]",Ur=function(i,t){if(i===t)return 0;if(i===Mr||t===Xn)return-1;if(t===Mr||i===Xn)return 1;{const r=yh(i),o=yh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},yv=function(i,t){return i===t?0:i<t?-1:1},Ni=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+be(t))},wu=function(i){if(typeof i!="object"||i===null)return be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=be(t[o]),r+=":",r+=wu(i[t[o]]);return r+="}",r},gp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function ct(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const _p=function(i){A(!mp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(a?1:0),_.reverse();const k=_.join("");let w="";for(m=0;m<64;m+=8){let I=parseInt(k.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),w=w+I}return w.toLowerCase()},vv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ev(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Cv=new RegExp("^-?(0*)\\d{1,10}$"),Sv=-2147483648,kv=2147483647,yh=function(i){if(Cv.test(i)){const t=Number(i);if(t>=Sv&&t<=kv)return t}return null},Br=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ut("Exception was thrown by user callback.",r),t},Math.floor(0))}},Iv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(t)}}class ho{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ho.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="5",yp="v",vp="s",wp="r",Ep="f",Cp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sp="ls",kp="p",iu="ac",Ip="websocket",Tp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function xv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function xp(i,t,r){A(typeof t=="string","typeof type must == string"),A(typeof r=="object","typeof params must == object");let o;if(t===Ip)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Tp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xv(i)&&(r.ns=i.namespace);const a=[];return ct(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.counters_={}}incrementCounter(t,r=1){rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return A_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={},Va={};function Cu(i){const t=i.toString();return Ha[t]||(Ha[t]=new Rv),Ha[t]}function Pv(i,t){const r=i.toString();return Va[r]||(Va[r]=t()),Va[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Br(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="start",Av="close",Ov="pLPCommand",Mv="pRTLPCB",Rp="id",Pp="pw",Dp="ser",Lv="cb",Fv="seg",zv="ts",Uv="d",Bv="dframe",Ap=1870,Op=30,Wv=Ap-Op,jv=25e3,bv=3e4;class xr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yi(t),this.stats_=Cu(r),this.urlFn=m=>(this.appCheckToken&&(m[iu]=this.appCheckToken),xp(r,Tp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Dv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bv)),_v(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Su((...c)=>{const[f,p,m,_,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===vh)this.id=p,this.password=m;else if(f===Av)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[vh]="t",o[Dp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Lv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[yp]=Eu,this.transportSessionId&&(o[vp]=this.transportSessionId),this.lastSessionId&&(o[Sp]=this.lastSessionId),this.applicationId&&(o[kp]=this.applicationId),this.appCheckToken&&(o[iu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(o[wp]=Ep);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xr.forceAllow_=!0}static forceDisallow(){xr.forceDisallow_=!0}static isAvailable(){return xr.forceAllow_?!0:!xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vv()&&!wv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Zh(r),a=gp(o,Wv);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Bv]="t",o[Rp]=t,o[Pp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Su{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pv(),window[Ov+this.uniqueCallbackIdentifier]=t,window[Mv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Su.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Xe("frame writing exception"),p.stack&&Xe(p.stack),Xe(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Xe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Rp]=this.myID,t[Pp]=this.myPW,t[Dp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Op+o.length<=Ap;){const f=this.pendingSegs.shift();o=o+"&"+Fv+a+"="+f.seg+"&"+zv+a+"="+f.ts+"&"+Uv+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(jv)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Xe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=16384,Vv=45e3;let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);class bt{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yi(this.connId),this.stats_=Cu(r),this.connURL=bt.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[yp]=Eu,typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(f[wp]=Ep),r&&(f[vp]=r),o&&(f[Sp]=o),a&&(f[iu]=a),c&&(f[kp]=c),xp(t,Ip,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yn.set("previous_websocket_failure",!0);try{let o;H_(),this.mySock=new yo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&yo!==null&&!bt.forceDisallow_}static previouslyFailed(){return Yn.isInMemoryStorage||Yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=zi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=gp(r,Hv);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Vv))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bt.responsesRequiredToBeHealthy=2;bt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static get ALL_TRANSPORTS(){return[xr,bt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=bt.isAvailable();let o=r&&!bt.previouslyFailed();if(t.webSocketOnly&&(r||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[bt];else{const a=this.transports_=[];for(const c of Wi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=6e4,Qv=5e3,Gv=10*1024,Kv=100*1024,$a="t",wh="d",Yv="s",Eh="r",qv="e",Ch="o",Sh="a",kh="n",Ih="p",Xv="h";class Jv{constructor(t,r,o,a,c,f,p,m,_,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yi("c:"+this.id+":"),this.transportManager_=new Wi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Oi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($a in t){const r=t[$a];r===Sh?this.upgradeIfSecondaryHealthy_():r===Eh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Ch&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ni("t",t),o=Ni("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ih,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ni("t",t),o=Ni("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ni($a,t);if(wh in t){const o=t[wh];if(r===Xv){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===kh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Yv?this.onConnectionShutdown_(o):r===Eh?this.onReset_(o):r===qv?ru("Server Error: "+o):r===Ch?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ru("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Eu!==o&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Oi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($v))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ih,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){A(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Lp{static getInstance(){return new vo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=32,Nh=768;class de{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ae(){return new de("")}function Z(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Pn(i){return i.pieces_.length-i.pieceNum_}function me(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new de(i.pieces_,t)}function Fp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Zv(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function zp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Up(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new de(t,0)}function Me(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof de)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new de(r,0)}function ne(i){return i.pieceNum_>=i.pieces_.length}function lt(i,t){const r=Z(i),o=Z(t);if(r===null)return t;if(r===o)return lt(me(i),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function ku(i,t){if(Pn(i)!==Pn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Dt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Pn(i)>Pn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class ew{constructor(t,r){this.errorPrefix_=r,this.parts_=zp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Ao(this.parts_[o]);Bp(this)}}function tw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Ao(t),Bp(i)}function nw(i){const t=i.parts_.pop();i.byteLength_-=Ao(t),i.parts_.length>0&&(i.byteLength_-=1)}function Bp(i){if(i.byteLength_>Nh)throw new Error(i.errorPrefix_+"has a key path longer than "+Nh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Th)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Th+") or object contains a cycle "+Kn(i))}function Kn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Lp{static getInstance(){return new Iu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=1e3,rw=60*5*1e3,xh=30*1e3,iw=1.3,sw=3e4,ow="server_kill",Rh=3;class Zt extends Mp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=Zt.nextPersistentConnectionId_++,this.log_=Yi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xi,this.maxReconnectDelay_=rw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Iu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(be(c)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Do,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;Zt.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&rn(t,"w")){const o=Or(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||q_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Y_(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ru("Unrecognized action received from server: "+be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sw&&(this.reconnectDelay_=xi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Zt.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(w){A(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,I]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=I&&I.token,p=new Jv(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{ut(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(ow)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&ut(w),m())}}}interrupt(t){Xe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Xe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ih(this.interruptReasons_)&&(this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>wu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new de(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){Xe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rh&&(this.reconnectDelay_=xh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Xe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+fp.replace(/\./g,"-")]=1,rp()?t["framework.cordova"]=1:b_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vo.getInstance().currentlyOnline();return ih(this.interruptReasons_)&&t}}Zt.nextPersistentConnectionId_=0;Zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ee(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ee(Mr,t),a=new ee(Mr,r);return this.compare(o,a)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;class Wp extends Oo{static get __EMPTY_NODE(){return co}static set __EMPTY_NODE(t){co=t}compare(t,r){return Ur(t.name,r.name)}isDefinedOn(t){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Xn,co)}makePost(t,r){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,co)}toString(){return".key"}}const Dr=new Wp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class je{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??je.RED,this.left=a??at.EMPTY_NODE,this.right=c??at.EMPTY_NODE}copy(t,r,o,a,c){return new je(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return at.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class lw{copy(t,r,o,a,c){return this}insert(t,r,o){return new je(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(t,r=at.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new at(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(t){return new at(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,je.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new fo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new fo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new fo(this.root_,null,this.comparator_,!0,t)}}at.EMPTY_NODE=new lw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(i,t){return Ur(i.name,t.name)}function Tu(i,t){return Ur(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function uw(i){su=i}const jp=function(i){return typeof i=="number"?"number:"+_p(i):"string:"+i},bp=function(i){if(i.isLeafNode()){const t=i.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rn(t,".sv"),"Priority must be a string or number.")}else A(i===su||i.isEmpty(),"priority of unexpected type.");A(i===su||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class We{static set __childrenNodeConstructor(t){Ph=t}static get __childrenNodeConstructor(){return Ph}constructor(t,r=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:Z(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Z(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(A(o!==".priority"||Pn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=_p(this.value_):t+=this.value_,this.lazyHash_=pp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=We.VALUE_TYPE_ORDER.indexOf(r),c=We.VALUE_TYPE_ORDER.indexOf(o);return A(a>=0,"Unknown leaf type: "+r),A(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp,Vp;function cw(i){Hp=i}function dw(i){Vp=i}class fw extends Oo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?Ur(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Xn,new We("[PRIORITY-POST]",Vp))}makePost(t,r){const o=Hp(t);return new ee(r,new We("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ne=new fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=Math.log(2);class pw{constructor(t){const r=c=>parseInt(Math.log(c)/hw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const wo=function(i,t,r,o){i.sort(t);const a=function(m,_){const k=_-m;let w,I;if(k===0)return null;if(k===1)return w=i[m],I=r?r(w):w,new je(I,w.node,je.BLACK,null,null);{const O=parseInt(k/2,10)+m,F=a(m,O),b=a(O+1,_);return w=i[O],I=r?r(w):w,new je(I,w.node,je.BLACK,F,b)}},c=function(m){let _=null,k=null,w=i.length;const I=function(F,b){const K=w-F,Le=w;w-=F;const He=a(K+1,Le),H=i[K],re=r?r(H):H;O(new je(re,H.node,b,null,He))},O=function(F){_?(_.left=F,_=F):(k=F,_=F)};for(let F=0;F<m.count;++F){const b=m.nextBitIsOne(),K=Math.pow(2,m.count-(F+1));b?I(K,je.BLACK):(I(K,je.BLACK),I(K,je.RED))}return k},f=new pw(i.length),p=c(f);return new at(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;const Ri={};class Jt{static get Default(){return A(Ne,"ChildrenNode.ts has not been loaded"),Qa=Qa||new Jt({".priority":Ri},{".priority":Ne}),Qa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Or(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof at?r:null}hasIndex(t){return rn(this.indexSet_,t.toString())}addIndex(t,r){A(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(ee.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=wo(o,t.getCompare()):p=Ri;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new Jt(k,_)}addToIndexes(t,r){const o=mo(this.indexes_,(a,c)=>{const f=Or(this.indexSet_,c);if(A(f,"Missing index implementation for "+c),a===Ri)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(ee.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),wo(p,f.getCompare())}else return Ri;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new ee(t.name,p))),m.insert(t,t.node)}});return new Jt(o,this.indexSet_)}removeFromIndexes(t,r){const o=mo(this.indexes_,a=>{if(a===Ri)return a;{const c=r.get(t.name);return c?a.remove(new ee(t.name,c)):a}});return new Jt(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class G{static get EMPTY_NODE(){return Pi||(Pi=new G(new at(Tu),null,Jt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&bp(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(t){return this.children_.isEmpty()?this:new G(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Pi:r}}getChild(t){const r=Z(t);return r===null?this:this.getImmediateChild(r).getChild(me(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(A(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ee(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Pi:this.priorityNode_;return new G(a,f,c)}}updateChild(t,r){const o=Z(t);if(o===null)return r;{A(Z(t)!==".priority"||Pn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(me(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Ne,(f,p)=>{r[f]=p.val(t),o++,c&&G.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jp(this.getPriority().val())+":"),this.forEachChild(Ne,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":pp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new ee(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ee(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ee.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qi?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new G(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ne),a=r.getIterator(Ne);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mw extends G{constructor(){super(new at(Tu),G.EMPTY_NODE,Jt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}}const qi=new mw;Object.defineProperties(ee,{MIN:{value:new ee(Mr,G.EMPTY_NODE)},MAX:{value:new ee(Xn,qi)}});Wp.__EMPTY_NODE=G.EMPTY_NODE;We.__childrenNodeConstructor=G;uw(qi);dw(qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=!0;function Qe(i,t=null){if(i===null)return G.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new We(r,Qe(t))}if(!(i instanceof Array)&&gw){const r=[];let o=!1;if(ct(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Qe(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ee(f,m)))}}),r.length===0)return G.EMPTY_NODE;const c=wo(r,aw,f=>f.name,Tu);if(o){const f=wo(r,Ne.getCompare());return new G(c,Qe(t),new Jt({".priority":f},{".priority":Ne}))}else return new G(c,Qe(t),Jt.Default)}else{let r=G.EMPTY_NODE;return ct(i,(o,a)=>{if(rn(i,o)&&o.substring(0,1)!=="."){const c=Qe(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Qe(t))}}cw(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends Oo{constructor(t){super(),this.indexPath_=t,A(!ne(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?Ur(t.name,r.name):c}makePost(t,r){const o=Qe(t),a=G.EMPTY_NODE.updateChild(this.indexPath_,o);return new ee(r,a)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,qi);return new ee(Xn,t)}toString(){return zp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Oo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Ur(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,r){const o=Qe(t);return new ee(r,o)}toString(){return".value"}}const vw=new yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i){return{type:"value",snapshotNode:i}}function Lr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ji(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function bi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function ww(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(ji(r,p)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Lr(r,o)):f.trackChildChange(bi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Ne,(a,c)=>{r.hasChild(a)||o.trackChildChange(ji(a,c))}),r.isLeafNode()||r.forEachChild(Ne,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(bi(a,c,f))}else o.trackChildChange(Lr(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?G.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.indexedFilter_=new Nu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hi.getStartPost_(t),this.endPost_=Hi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new ee(r,o))||(o=G.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=G.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(G.EMPTY_NODE);const c=this;return r.forEachChild(Ne,(f,p)=>{c.matches(new ee(f,p))||(a=a.updateImmediateChild(f,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Hi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new ee(r,o))||(o=G.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=G.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(G.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(I,O)=>w(O,I)}else f=this.index_.getCompare();const p=t;A(p.numChildren()===this.limit_,"");const m=new ee(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let I=a.getChildAfterChild(this.index_,_,this.reverse_);for(;I!=null&&(I.name===r||p.hasChild(I.name));)I=a.getChildAfterChild(this.index_,I,this.reverse_);const O=I==null?1:f(I,m);if(k&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange(bi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(ji(r,w));const b=p.updateImmediateChild(r,G.EMPTY_NODE);return I!=null&&this.rangedFilter_.matches(I)?(c!=null&&c.trackChildChange(Lr(I.name,I.node)),b.updateImmediateChild(I.name,I.node)):b}}else return o.isEmpty()?t:k&&f(_,m)>=0?(c!=null&&(c.trackChildChange(ji(_.name,_.node)),c.trackChildChange(Lr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,G.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const t=new xu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Cw(i){return i.loadsAllData()?new Nu(i.getIndex()):i.hasLimit()?new Ew(i):new Hi(i)}function Dh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ne?r="$priority":i.index_===vw?r="$value":i.index_===Dr?r="$key":(A(i.index_ instanceof _w,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Ah(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ne&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Mp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Yi("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Eo.getListenId_(t,o),p={};this.listens_[f]=p;const m=Dh(t._queryParams);this.restRequest_(c+".json",m,(_,k)=>{let w=k;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,o),Or(this.listens_,f)===p){let I;_?_===401?I="permission_denied":I="rest_error:"+_:I="ok",a(I,null)}})}unlisten(t,r){const o=Eo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Dh(t._queryParams),o=t._path.toString(),a=new Do;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+X_(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=zi(p.responseText)}catch{ut("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ut("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return{value:null,children:new Map}}function Qp(i,t,r){if(ne(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=Z(t);i.children.has(o)||i.children.set(o,Co());const a=i.children.get(o);t=me(t),Qp(a,t,r)}}function ou(i,t,r){i.value!==null?r(t,i.value):kw(i,(o,a)=>{const c=new de(t.toString()+"/"+o);ou(a,c,r)})}function kw(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&ct(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=10*1e3,Tw=30*1e3,Nw=5*60*1e3;class xw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Iw(t);const o=Oh+(Tw-Oh)*Math.random();Oi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;ct(t,(a,c)=>{c>0&&rn(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Oi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function Gp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ru(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=At.ACK_USER_WRITE,this.source=Gp()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new de(t));return new So(ae(),r,this.revert)}}else return A(Z(this.path)===t,"operationForChild called for unrelated child."),new So(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,r){this.source=t,this.path=r,this.type=At.LISTEN_COMPLETE}operationForChild(t){return ne(this.path)?new Vi(this.source,ae()):new Vi(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=At.OVERWRITE}operationForChild(t){return ne(this.path)?new Jn(this.source,ae(),this.snap.getImmediateChild(t)):new Jn(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=At.MERGE}operationForChild(t){if(ne(this.path)){const r=this.children.subtree(new de(t));return r.isEmpty()?null:r.value?new Jn(this.source,ae(),r.value):new $i(this.source,ae(),r)}else return A(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $i(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const r=Z(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Pw(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(ww(f.childName,f.snapshotNode))}),Di(i,a,"child_removed",t,o,r),Di(i,a,"child_added",t,o,r),Di(i,a,"child_moved",c,o,r),Di(i,a,"child_changed",t,o,r),Di(i,a,"value",t,o,r),a}function Di(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>Aw(i,p,m)),f.forEach(p=>{const m=Dw(i,p,c);a.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function Dw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Aw(i,t,r){if(t.childName==null||r.childName==null)throw zr("Should only compare child_ events.");const o=new ee(t.childName,t.snapshotNode),a=new ee(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i,t){return{eventCache:i,serverCache:t}}function Mi(i,t,r,o){return Mo(new Zn(t,r,o),i.serverCache)}function Kp(i,t,r,o){return Mo(i.eventCache,new Zn(t,r,o))}function lu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function er(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;const Ow=()=>(Ga||(Ga=new at(yv)),Ga);class ye{static fromObject(t){let r=new ye(null);return ct(t,(o,a)=>{r=r.set(new de(o),a)}),r}constructor(t,r=Ow()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ae(),value:this.value};if(ne(t))return null;{const o=Z(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(me(t),r);return c!=null?{path:Me(new de(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const r=Z(t),o=this.children.get(r);return o!==null?o.subtree(me(t)):new ye(null)}}set(t,r){if(ne(t))return new ye(r,this.children);{const o=Z(t),c=(this.children.get(o)||new ye(null)).set(me(t),r),f=this.children.insert(o,c);return new ye(this.value,f)}}remove(t){if(ne(t))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const r=Z(t),o=this.children.get(r);if(o){const a=o.remove(me(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new ye(null):new ye(this.value,c)}else return this}}get(t){if(ne(t))return this.value;{const r=Z(t),o=this.children.get(r);return o?o.get(me(t)):null}}setTree(t,r){if(ne(t))return r;{const o=Z(t),c=(this.children.get(o)||new ye(null)).setTree(me(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ye(this.value,f)}}fold(t){return this.fold_(ae(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Me(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ae(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(ne(t))return null;{const c=Z(t),f=this.children.get(c);return f?f.findOnPath_(me(t),Me(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ae(),r)}foreachOnPath_(t,r,o){if(ne(t))return this;{this.value&&o(r,this.value);const a=Z(t),c=this.children.get(a);return c?c.foreachOnPath_(me(t),Me(r,a),o):new ye(null)}}foreach(t){this.foreach_(ae(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Me(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.writeTree_=t}static empty(){return new Ot(new ye(null))}}function Li(i,t,r){if(ne(t))return new Ot(new ye(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=lt(a,t);return c=c.updateChild(f,r),new Ot(i.writeTree_.set(a,c))}else{const a=new ye(r),c=i.writeTree_.setTree(t,a);return new Ot(c)}}}function Mh(i,t,r){let o=i;return ct(r,(a,c)=>{o=Li(o,Me(t,a),c)}),o}function Lh(i,t){if(ne(t))return Ot.empty();{const r=i.writeTree_.setTree(t,new ye(null));return new Ot(r)}}function au(i,t){return tr(i,t)!=null}function tr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(lt(r.path,t)):null}function Fh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ne,(o,a)=>{t.push(new ee(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new ee(o,a.value))}),t}function Rn(i,t){if(ne(t))return i;{const r=tr(i,t);return r!=null?new Ot(new ye(r)):new Ot(i.writeTree_.subtree(t))}}function uu(i){return i.writeTree_.isEmpty()}function Fr(i,t){return Yp(ae(),i.writeTree_,t)}function Yp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(A(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Yp(Me(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Me(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i,t){return Zp(t,i)}function Mw(i,t,r,o,a){A(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Li(i.visibleWrites,t,r)),i.lastWriteId=o}function Lw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Fw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);A(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&zw(p,o.path)?a=!1:Dt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return Uw(i),!0;if(o.snap)i.visibleWrites=Lh(i.visibleWrites,o.path);else{const p=o.children;ct(p,m=>{i.visibleWrites=Lh(i.visibleWrites,Me(o.path,m))})}return!0}else return!1}function zw(i,t){if(i.snap)return Dt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Dt(Me(i.path,r),t))return!0;return!1}function Uw(i){i.visibleWrites=qp(i.allWrites,Bw,ae()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Bw(i){return i.visible}function qp(i,t,r){let o=Ot.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Dt(r,f)?(p=lt(r,f),o=Li(o,p,c.snap)):Dt(f,r)&&(p=lt(f,r),o=Li(o,ae(),c.snap.getChild(p)));else if(c.children){if(Dt(r,f))p=lt(r,f),o=Mh(o,p,c.children);else if(Dt(f,r))if(p=lt(f,r),ne(p))o=Mh(o,ae(),c.children);else{const m=Or(c.children,Z(p));if(m){const _=m.getChild(me(p));o=Li(o,ae(),_)}}}else throw zr("WriteRecord should have .snap or .children")}}return o}function Xp(i,t,r,o,a){if(!o&&!a){const c=tr(i.visibleWrites,t);if(c!=null)return c;{const f=Rn(i.visibleWrites,t);if(uu(f))return r;if(r==null&&!au(f,ae()))return null;{const p=r||G.EMPTY_NODE;return Fr(f,p)}}}else{const c=Rn(i.visibleWrites,t);if(!a&&uu(c))return r;if(!a&&r==null&&!au(c,ae()))return null;{const f=function(_){return(_.visible||a)&&(!o||!~o.indexOf(_.writeId))&&(Dt(_.path,t)||Dt(t,_.path))},p=qp(i.allWrites,f,t),m=r||G.EMPTY_NODE;return Fr(p,m)}}}function Ww(i,t,r){let o=G.EMPTY_NODE;const a=tr(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ne,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Rn(i.visibleWrites,t);return r.forEachChild(Ne,(f,p)=>{const m=Fr(Rn(c,new de(f)),p);o=o.updateImmediateChild(f,m)}),Fh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Rn(i.visibleWrites,t);return Fh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function jw(i,t,r,o,a){A(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Me(t,r);if(au(i.visibleWrites,c))return null;{const f=Rn(i.visibleWrites,c);return uu(f)?a.getChild(r):Fr(f,a.getChild(r))}}function bw(i,t,r,o){const a=Me(t,r),c=tr(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Rn(i.visibleWrites,a);return Fr(f,o.getNode().getImmediateChild(r))}else return null}function Hw(i,t){return tr(i.visibleWrites,t)}function Vw(i,t,r,o,a,c,f){let p;const m=Rn(i.visibleWrites,t),_=tr(m,ae());if(_!=null)p=_;else if(r!=null)p=Fr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],w=f.getCompare(),I=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=I.getNext();for(;O&&k.length<a;)w(O,o)!==0&&k.push(O),O=I.getNext();return k}else return[]}function $w(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function ko(i,t,r,o){return Xp(i.writeTree,i.treePath,t,r,o)}function Au(i,t){return Ww(i.writeTree,i.treePath,t)}function zh(i,t,r,o){return jw(i.writeTree,i.treePath,t,r,o)}function Io(i,t){return Hw(i.writeTree,Me(i.treePath,t))}function Qw(i,t,r,o,a,c){return Vw(i.writeTree,i.treePath,t,r,o,a,c)}function Ou(i,t,r){return bw(i.writeTree,i.treePath,t,r)}function Jp(i,t){return Zp(Me(i.treePath,t),i.writeTree)}function Zp(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;A(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),A(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,bi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,ji(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Lr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,bi(o,t.snapshotNode,a.oldSnap));else throw zr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const em=new Kw;class Mu{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ou(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),c=Qw(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){return{filter:i}}function qw(i,t){A(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function Xw(i,t,r,o,a){const c=new Gw;let f,p;if(r.type===At.OVERWRITE){const _=r;_.source.fromUser?f=cu(i,t,_.path,_.snap,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!ne(_.path),f=To(i,t,_.path,_.snap,o,a,p,c))}else if(r.type===At.MERGE){const _=r;_.source.fromUser?f=Zw(i,t,_.path,_.children,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=du(i,t,_.path,_.children,o,a,p,c))}else if(r.type===At.ACK_USER_WRITE){const _=r;_.revert?f=nE(i,t,_.path,o,a,c):f=eE(i,t,_.path,_.affectedTree,o,a,c)}else if(r.type===At.LISTEN_COMPLETE)f=tE(i,t,r.path,o,c);else throw zr("Unknown operation type: "+r.type);const m=c.getChanges();return Jw(t,f,m),{viewCache:f,changes:m}}function Jw(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=lu(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push($p(lu(t)))}}function tm(i,t,r,o,a,c){const f=t.eventCache;if(Io(o,r)!=null)return t;{let p,m;if(ne(r))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=er(t),k=_ instanceof G?_:G.EMPTY_NODE,w=Au(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const _=ko(o,er(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=Z(r);if(_===".priority"){A(Pn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const w=zh(o,r,k,m);w!=null?p=i.filter.updatePriority(k,w):p=f.getNode()}else{const k=me(r);let w;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const I=zh(o,r,f.getNode(),m);I!=null?w=f.getNode().getImmediateChild(_).updateChild(k,I):w=f.getNode().getImmediateChild(_)}else w=Ou(o,_,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),_,w,k,a,c):p=f.getNode()}}return Mi(t,p,f.isFullyInitialized()||ne(r),i.filter.filtersNodes())}}function To(i,t,r,o,a,c,f,p){const m=t.serverCache;let _;const k=f?i.filter:i.filter.getIndexedFilter();if(ne(r))_=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);_=k.updateFullNode(m.getNode(),O,null)}else{const O=Z(r);if(!m.isCompleteForPath(r)&&Pn(r)>1)return t;const F=me(r),K=m.getNode().getImmediateChild(O).updateChild(F,o);O===".priority"?_=k.updatePriority(m.getNode(),K):_=k.updateChild(m.getNode(),O,K,F,em,null)}const w=Kp(t,_,m.isFullyInitialized()||ne(r),k.filtersNodes()),I=new Mu(a,w,c);return tm(i,w,r,a,I,p)}function cu(i,t,r,o,a,c,f){const p=t.eventCache;let m,_;const k=new Mu(a,t,c);if(ne(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Mi(t,_,!0,i.filter.filtersNodes());else{const w=Z(r);if(w===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Mi(t,_,p.isFullyInitialized(),p.isFiltered());else{const I=me(r),O=p.getNode().getImmediateChild(w);let F;if(ne(I))F=o;else{const b=k.getCompleteChild(w);b!=null?Fp(I)===".priority"&&b.getChild(Up(I)).isEmpty()?F=b:F=b.updateChild(I,o):F=G.EMPTY_NODE}if(O.equals(F))m=t;else{const b=i.filter.updateChild(p.getNode(),w,F,I,k,f);m=Mi(t,b,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Uh(i,t){return i.eventCache.isCompleteForChild(t)}function Zw(i,t,r,o,a,c,f){let p=t;return o.foreach((m,_)=>{const k=Me(r,m);Uh(t,Z(k))&&(p=cu(i,p,k,_,a,c,f))}),o.foreach((m,_)=>{const k=Me(r,m);Uh(t,Z(k))||(p=cu(i,p,k,_,a,c,f))}),p}function Bh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function du(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;ne(r)?_=o:_=new ye(null).setTree(r,o);const k=t.serverCache.getNode();return _.children.inorderTraversal((w,I)=>{if(k.hasChild(w)){const O=t.serverCache.getNode().getImmediateChild(w),F=Bh(i,O,I);m=To(i,m,new de(w),F,a,c,f,p)}}),_.children.inorderTraversal((w,I)=>{const O=!t.serverCache.isCompleteForChild(w)&&I.value===null;if(!k.hasChild(w)&&!O){const F=t.serverCache.getNode().getImmediateChild(w),b=Bh(i,F,I);m=To(i,m,new de(w),b,a,c,f,p)}}),m}function eE(i,t,r,o,a,c,f){if(Io(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ne(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return To(i,t,r,m.getNode().getChild(r),a,c,p,f);if(ne(r)){let _=new ye(null);return m.getNode().forEachChild(Dr,(k,w)=>{_=_.set(new de(k),w)}),du(i,t,r,_,a,c,p,f)}else return t}else{let _=new ye(null);return o.foreach((k,w)=>{const I=Me(r,k);m.isCompleteForPath(I)&&(_=_.set(k,m.getNode().getChild(I)))}),du(i,t,r,_,a,c,p,f)}}function tE(i,t,r,o,a){const c=t.serverCache,f=Kp(t,c.getNode(),c.isFullyInitialized()||ne(r),c.isFiltered());return tm(i,f,r,o,em,a)}function nE(i,t,r,o,a,c){let f;if(Io(o,r)!=null)return t;{const p=new Mu(o,t,a),m=t.eventCache.getNode();let _;if(ne(r)||Z(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=ko(o,er(t));else{const w=t.serverCache.getNode();A(w instanceof G,"serverChildren would be complete if leaf node"),k=Au(o,w)}k=k,_=i.filter.updateFullNode(m,k,c)}else{const k=Z(r);let w=Ou(o,k,t.serverCache);w==null&&t.serverCache.isCompleteForChild(k)&&(w=m.getImmediateChild(k)),w!=null?_=i.filter.updateChild(m,k,w,me(r),p,c):t.eventCache.getNode().hasChild(k)?_=i.filter.updateChild(m,k,G.EMPTY_NODE,me(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=ko(o,er(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||Io(o,ae())!=null,Mi(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Nu(o.getIndex()),c=Cw(o);this.processor_=Yw(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(G.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(G.EMPTY_NODE,p.getNode(),null),k=new Zn(m,f.isFullyInitialized(),a.filtersNodes()),w=new Zn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Mo(w,k),this.eventGenerator_=new Rw(this.query_)}get query(){return this.query_}}function iE(i){return i.viewCache_.serverCache.getNode()}function sE(i,t){const r=er(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ne(t)&&!r.getImmediateChild(Z(t)).isEmpty())?r.getChild(t):null}function Wh(i){return i.eventRegistrations_.length===0}function oE(i,t){i.eventRegistrations_.push(t)}function jh(i,t,r){const o=[];if(r){A(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function bh(i,t,r,o){t.type===At.MERGE&&t.source.queryId!==null&&(A(er(i.viewCache_),"We should always have a full cache before handling merges"),A(lu(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=Xw(i.processor_,a,t,r,o);return qw(i.processor_,c.viewCache),A(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,nm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function lE(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ne,(c,f)=>{o.push(Lr(c,f))}),r.isFullyInitialized()&&o.push($p(r.getNode())),nm(i,o,r.getNode(),t)}function nm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return Pw(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class aE{constructor(){this.views=new Map}}function uE(i){A(!No,"__referenceConstructor has already been defined"),No=i}function cE(){return A(No,"Reference.ts has not been loaded"),No}function dE(i){return i.views.size===0}function Lu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return A(c!=null,"SyncTree gave us an op for an invalid query."),bh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(bh(f,t,r,o));return c}}function fE(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=ko(r,a?o:null),m=!1;p?m=!0:o instanceof G?(p=Au(r,o),m=!1):(p=G.EMPTY_NODE,m=!1);const _=Mo(new Zn(p,m,!1),new Zn(o,a,!1));return new rE(t,_)}return f}function hE(i,t,r,o,a,c){const f=fE(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),oE(f,r),lE(f,r)}function pE(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=Dn(i);if(a==="default")for(const[m,_]of i.views.entries())f=f.concat(jh(_,r,o)),Wh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(a);m&&(f=f.concat(jh(m,r,o)),Wh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Dn(i)&&c.push(new(cE())(t._repo,t._path)),{removed:c,events:f}}function rm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Ar(i,t){let r=null;for(const o of i.views.values())r=r||sE(o,t);return r}function im(i,t){if(t._queryParams.loadsAllData())return Lo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function sm(i,t){return im(i,t)!=null}function Dn(i){return Lo(i)!=null}function Lo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;function mE(i){A(!xo,"__referenceConstructor has already been defined"),xo=i}function gE(){return A(xo,"Reference.ts has not been loaded"),xo}let _E=1;class Hh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ye(null),this.pendingWriteTree_=$w(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function om(i,t,r,o,a){return Mw(i.pendingWriteTree_,t,r,o,a),a?Xi(i,new Jn(Gp(),t,r)):[]}function qn(i,t,r=!1){const o=Lw(i.pendingWriteTree_,t);if(Fw(i.pendingWriteTree_,t)){let c=new ye(null);return o.snap!=null?c=c.set(ae(),!0):ct(o.children,f=>{c=c.set(new de(f),!0)}),Xi(i,new So(o.path,c,r))}else return[]}function Fo(i,t,r){return Xi(i,new Jn(Ru(),t,r))}function yE(i,t,r){const o=ye.fromObject(r);return Xi(i,new $i(Ru(),t,o))}function vE(i,t){return Xi(i,new Vi(Ru(),t))}function wE(i,t,r){const o=zu(i,r);if(o){const a=Uu(o),c=a.path,f=a.queryId,p=lt(c,t),m=new Vi(Pu(f),p);return Bu(i,c,m)}else return[]}function fu(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||sm(f,t))){const m=pE(f,t,r,o);dE(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!a){const k=_.findIndex(I=>I._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(I,O)=>Dn(O));if(k&&!w){const I=i.syncPointTree_.subtree(c);if(!I.isEmpty()){const O=SE(I);for(let F=0;F<O.length;++F){const b=O[F],K=b.query,Le=um(i,b);i.listenProvider_.startListening(Fi(K),Ro(i,K),Le.hashFn,Le.onComplete)}}}!w&&_.length>0&&!o&&(k?i.listenProvider_.stopListening(Fi(t),null):_.forEach(I=>{const O=i.queryToTagMap.get(zo(I));i.listenProvider_.stopListening(Fi(I),O)}))}kE(i,_)}return p}function EE(i,t,r,o){const a=zu(i,o);if(a!=null){const c=Uu(a),f=c.path,p=c.queryId,m=lt(f,t),_=new Jn(Pu(p),m,r);return Bu(i,f,_)}else return[]}function CE(i,t,r,o){const a=zu(i,o);if(a){const c=Uu(a),f=c.path,p=c.queryId,m=lt(f,t),_=ye.fromObject(r),k=new $i(Pu(p),m,_);return Bu(i,f,k)}else return[]}function Vh(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(I,O)=>{const F=lt(I,a);c=c||Ar(O,F),f=f||Dn(O)});let p=i.syncPointTree_.get(a);p?(f=f||Dn(p),c=c||Ar(p,ae())):(p=new aE,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=G.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((O,F)=>{const b=Ar(F,ae());b&&(c=c.updateImmediateChild(O,b))}));const _=sm(p,t);if(!_&&!t._queryParams.loadsAllData()){const I=zo(t);A(!i.queryToTagMap.has(I),"View does not exist, but we have a tag");const O=IE();i.queryToTagMap.set(I,O),i.tagToQueryMap.set(O,I)}const k=Du(i.pendingWriteTree_,a);let w=hE(p,t,r,k,c,m);if(!_&&!f&&!o){const I=im(p,t);w=w.concat(TE(i,t,I))}return w}function Fu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=lt(f,t),_=Ar(p,m);if(_)return _});return Xp(a,t,c,r,!0)}function Xi(i,t){return lm(t,i.syncPointTree_,null,Du(i.pendingWriteTree_,ae()))}function lm(i,t,r,o){if(ne(i.path))return am(i,t,r,o);{const a=t.get(ae());r==null&&a!=null&&(r=Ar(a,ae()));let c=[];const f=Z(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,k=Jp(o,f);c=c.concat(lm(p,m,_,k))}return a&&(c=c.concat(Lu(a,i,o,r))),c}}function am(i,t,r,o){const a=t.get(ae());r==null&&a!=null&&(r=Ar(a,ae()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=Jp(o,f),k=i.operationForChild(f);k&&(c=c.concat(am(k,p,m,_)))}),a&&(c=c.concat(Lu(a,i,o,r))),c}function um(i,t){const r=t.query,o=Ro(i,r);return{hashFn:()=>(iE(t)||G.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?wE(i,r._path,o):vE(i,r._path);{const c=Ev(a,r);return fu(i,r,null,c)}}}}function Ro(i,t){const r=zo(t);return i.queryToTagMap.get(r)}function zo(i){return i._path.toString()+"$"+i._queryIdentifier}function zu(i,t){return i.tagToQueryMap.get(t)}function Uu(i){const t=i.indexOf("$");return A(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new de(i.substr(0,t))}}function Bu(i,t,r){const o=i.syncPointTree_.get(t);A(o,"Missing sync point for query tag that we're tracking");const a=Du(i.pendingWriteTree_,t);return Lu(o,r,a,null)}function SE(i){return i.fold((t,r,o)=>{if(r&&Dn(r))return[Lo(r)];{let a=[];return r&&(a=rm(r)),ct(o,(c,f)=>{a=a.concat(f)}),a}})}function Fi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(gE())(i._repo,i._path):i}function kE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=zo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function IE(){return _E++}function TE(i,t,r){const o=t._path,a=Ro(i,t),c=um(i,r),f=i.listenProvider_.startListening(Fi(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)A(!Dn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,k,w)=>{if(!ne(_)&&k&&Dn(k))return[Lo(k).query];{let I=[];return k&&(I=I.concat(rm(k).map(O=>O.query))),ct(w,(O,F)=>{I=I.concat(F)}),I}});for(let _=0;_<m.length;++_){const k=m[_];i.listenProvider_.stopListening(Fi(k),Ro(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Wu(r)}node(){return this.node_}}class ju{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Me(this.path_,t);return new ju(this.syncTree_,r)}node(){return Fu(this.syncTree_,this.path_)}}const NE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},$h=function(i,t,r){if(!i||typeof i!="object")return i;if(A(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return xE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return RE(i[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},xE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:A(!1,"Unexpected server value: "+i)}},RE=function(i,t,r){i.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&A(!1,"Unexpected increment value: "+o);const a=t.node();if(A(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},PE=function(i,t,r,o){return bu(t,new ju(r,i),o)},cm=function(i,t,r){return bu(i,new Wu(t),r)};function bu(i,t,r){const o=i.getPriority().val(),a=$h(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=$h(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new We(p,Qe(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new We(a))),f.forEachChild(Ne,(p,m)=>{const _=bu(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Vu(i,t){let r=t instanceof de?t:new de(t),o=i,a=Z(r);for(;a!==null;){const c=Or(o.node.children,a)||{children:{},childCount:0};o=new Hu(a,o,c),r=me(r),a=Z(r)}return o}function Wr(i){return i.node.value}function dm(i,t){i.node.value=t,hu(i)}function fm(i){return i.node.childCount>0}function DE(i){return Wr(i)===void 0&&!fm(i)}function Uo(i,t){ct(i.node.children,(r,o)=>{t(new Hu(r,i,o))})}function hm(i,t,r,o){r&&t(i),Uo(i,a=>{hm(a,t,!0)})}function AE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Ji(i){return new de(i.parent===null?i.name:Ji(i.parent)+"/"+i.name)}function hu(i){i.parent!==null&&OE(i.parent,i.name,i)}function OE(i,t,r){const o=DE(r),a=rn(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,hu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,hu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=/[\[\].#$\/\u0000-\u001F\u007F]/,LE=/[\[\].#$\u0000-\u001F\u007F]/,Ka=10*1024*1024,pm=function(i){return typeof i=="string"&&i.length!==0&&!ME.test(i)},mm=function(i){return typeof i=="string"&&i.length!==0&&!LE.test(i)},FE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),mm(i)},zE=function(i,t,r,o){$u(yu(i,"value"),t,r)},$u=function(i,t,r){const o=r instanceof de?new ew(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Kn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Kn(o)+" with contents = "+t.toString());if(mp(t))throw new Error(i+"contains "+t.toString()+" "+Kn(o));if(typeof t=="string"&&t.length>Ka/3&&Ao(t)>Ka)throw new Error(i+"contains a string greater than "+Ka+" utf8 bytes "+Kn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(ct(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!pm(f)))throw new Error(i+" contains an invalid key ("+f+") "+Kn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tw(o,f),$u(i,p,o),nw(o)}),a&&c)throw new Error(i+' contains ".value" child '+Kn(o)+" in addition to actual children.")}},gm=function(i,t,r,o){if(!mm(r))throw new Error(yu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),gm(i,t,r)},_m=function(i,t){if(Z(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},BE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!FE(r))throw new Error(yu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qu(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!ku(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function ym(i,t,r){Qu(i,r),vm(i,o=>ku(o,t))}function nn(i,t,r){Qu(i,r),vm(i,o=>Dt(o,t)||Dt(t,o))}function vm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(jE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function jE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Ai&&Xe("event: "+r.toString()),Br(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="repo_interrupt",HE=25;class VE{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Co(),this.transactionQueueTree_=new Hu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $E(i,t,r){if(i.stats_=Cu(i.repoInfo_),i.forceRestClient_||Iv())i.server_=new Eo(i.repoInfo_,(o,a,c,f)=>{Qh(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Gh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Zt(i.repoInfo_,t,(o,a,c,f)=>{Qh(i,o,a,c,f)},o=>{Gh(i,o)},o=>{GE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Pv(i.repoInfo_,()=>new xw(i.stats_,i.server_)),i.infoData_=new Sw,i.infoSyncTree_=new Hh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Fo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),Ku(i,"connected",!1),i.serverSyncTree_=new Hh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const _=f(p,m);nn(i.eventQueue_,o._path,_)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function QE(i){const r=i.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Gu(i){return NE({timestamp:QE(i)})}function Qh(i,t,r,o,a){i.dataUpdateCount++;const c=new de(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=mo(r,_=>Qe(_));f=CE(i.serverSyncTree_,c,m,a)}else{const m=Qe(r);f=EE(i.serverSyncTree_,c,m,a)}else if(o){const m=mo(r,_=>Qe(_));f=yE(i.serverSyncTree_,c,m)}else{const m=Qe(r);f=Fo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Bo(i,c)),nn(i.eventQueue_,p,f)}function Gh(i,t){Ku(i,"connected",t),t===!1&&YE(i)}function GE(i,t){ct(t,(r,o)=>{Ku(i,r,o)})}function Ku(i,t,r){const o=new de("/.info/"+t),a=Qe(r);i.infoData_.updateSnapshot(o,a);const c=Fo(i.infoSyncTree_,o,a);nn(i.eventQueue_,o,c)}function wm(i){return i.nextWriteId_++}function KE(i,t,r,o,a){Yu(i,"set",{path:t.toString(),value:r,priority:o});const c=Gu(i),f=Qe(r,o),p=Fu(i.serverSyncTree_,t),m=cm(f,p,c),_=wm(i),k=om(i.serverSyncTree_,t,m,_,!0);Qu(i.eventQueue_,k),i.server_.put(t.toString(),f.val(!0),(I,O)=>{const F=I==="ok";F||ut("set at "+t+" failed: "+I);const b=qn(i.serverSyncTree_,_,!F);nn(i.eventQueue_,t,b),JE(i,a,I,O)});const w=Im(i,t);Bo(i,w),nn(i.eventQueue_,w,[])}function YE(i){Yu(i,"onDisconnectEvents");const t=Gu(i),r=Co();ou(i.onDisconnect_,ae(),(a,c)=>{const f=PE(a,c,i.serverSyncTree_,t);Qp(r,a,f)});let o=[];ou(r,ae(),(a,c)=>{o=o.concat(Fo(i.serverSyncTree_,a,c));const f=Im(i,a);Bo(i,f)}),i.onDisconnect_=Co(),nn(i.eventQueue_,ae(),o)}function qE(i,t,r){let o;Z(t._path)===".info"?o=Vh(i.infoSyncTree_,t,r):o=Vh(i.serverSyncTree_,t,r),ym(i.eventQueue_,t._path,o)}function Kh(i,t,r){let o;Z(t._path)===".info"?o=fu(i.infoSyncTree_,t,r):o=fu(i.serverSyncTree_,t,r),ym(i.eventQueue_,t._path,o)}function XE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(bE)}function Yu(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Xe(r,...t)}function JE(i,t,r,o){t&&Br(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Em(i,t,r){return Fu(i.serverSyncTree_,t,r)||G.EMPTY_NODE}function qu(i,t=i.transactionQueueTree_){if(t||Wo(i,t),Wr(t)){const r=Sm(i,t);A(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&ZE(i,Ji(t),r)}else fm(t)&&Uo(t,r=>{qu(i,r)})}function ZE(i,t,r){const o=r.map(_=>_.currentWriteId),a=Em(i,t,o);let c=a;const f=a.hash();for(let _=0;_<r.length;_++){const k=r[_];A(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const w=lt(t,k.path);c=c.updateChild(w,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Yu(i,"transaction put response",{path:m.toString(),status:_});let k=[];if(_==="ok"){const w=[];for(let I=0;I<r.length;I++)r[I].status=2,k=k.concat(qn(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&w.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();Wo(i,Vu(i.transactionQueueTree_,t)),qu(i,i.transactionQueueTree_),nn(i.eventQueue_,t,k);for(let I=0;I<w.length;I++)Br(w[I])}else{if(_==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{ut("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=_}Bo(i,t)}},f)}function Bo(i,t){const r=Cm(i,t),o=Ji(r),a=Sm(i,r);return eC(i,a,o),o}function eC(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=lt(r,m.path);let k=!1,w;if(A(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,w=m.abortReason,a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=HE)k=!0,w="maxretry",a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0));else{const I=Em(i,m.path,f);m.currentInputSnapshot=I;const O=t[p].update(I.val());if(O!==void 0){$u("transaction failed: Data returned ",O,m.path);let F=Qe(O);typeof O=="object"&&O!=null&&rn(O,".priority")||(F=F.updatePriority(I.getPriority()));const K=m.currentWriteId,Le=Gu(i),He=cm(F,I,Le);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=He,m.currentWriteId=wm(i),f.splice(f.indexOf(K),1),a=a.concat(om(i.serverSyncTree_,m.path,He,m.currentWriteId,m.applyLocally)),a=a.concat(qn(i.serverSyncTree_,K,!0))}else k=!0,w="nodata",a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0))}nn(i.eventQueue_,r,a),a=[],k&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}Wo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Br(o[p]);qu(i,i.transactionQueueTree_)}function Cm(i,t){let r,o=i.transactionQueueTree_;for(r=Z(t);r!==null&&Wr(o)===void 0;)o=Vu(o,r),t=me(t),r=Z(t);return o}function Sm(i,t){const r=[];return km(i,t,r),r.sort((o,a)=>o.order-a.order),r}function km(i,t,r){const o=Wr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Uo(t,a=>{km(i,a,r)})}function Wo(i,t){const r=Wr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,dm(t,r.length>0?r:void 0)}Uo(t,o=>{Wo(i,o)})}function Im(i,t){const r=Ji(Cm(i,t)),o=Vu(i.transactionQueueTree_,t);return AE(o,a=>{Ya(i,a)}),Ya(i,o),hm(o,a=>{Ya(i,a)}),r}function Ya(i,t){const r=Wr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(A(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(A(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(qn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?dm(t,void 0):r.length=c+1,nn(i.eventQueue_,Ji(t),a);for(let f=0;f<o.length;f++)Br(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function nC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ut(`Invalid query segment '${r}' in query '${i}'`)}return t}const Yh=function(i,t){const r=rC(i),o=r.namespace;r.domain==="firebase.com"&&tn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||gv();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Np(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new de(r.pathString)}},rC=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let k=i.indexOf("/");k===-1&&(k=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(k,w)),k<w&&(a=tC(i.substring(k,w)));const I=nC(i.substring(Math.min(i.length,w)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),r=t.substring(F+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class sC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return ne(this._path)?null:Fp(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const t=Ah(this._queryParams),r=wu(t);return r==="{}"?"default":r}get _queryObject(){return Ah(this._queryParams)}isEqual(t){if(t=Gi(t),!(t instanceof Xu))return!1;const r=this._repo===t._repo,o=ku(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zv(this._path)}}class An extends Xu{constructor(t,r){super(t,r,new xu,!1)}get parent(){const t=Up(this._path);return t===null?null:new An(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Po{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new de(t),o=pu(this.ref,t);return new Po(this._node.getChild(r),o,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Po(a,pu(this.ref,o),Ne)))}hasChild(t){const r=new de(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kn(i,t){return i=Gi(i),i._checkNotDeleted("ref"),t!==void 0?pu(i._root,t):i._root}function pu(i,t){return i=Gi(i),Z(i._path)===null?UE("child","path",t):gm("child","path",t),new An(i._repo,Me(i._path,t))}function lC(i){return _m("remove",i._path),Nr(i,null)}function Nr(i,t){i=Gi(i),_m("set",i._path),zE("set",t,i._path);const r=new Do;return KE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}class Ju{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new iC("value",this,new Po(t.snapshotNode,new An(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new sC(this,t,r):null}matches(t){return t instanceof Ju?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function aC(i,t,r,o,a){let c;if(typeof o=="object"&&(c=void 0,a=o),typeof o=="function"&&(c=o),a&&a.onlyOnce){const m=r,_=(k,w)=>{Kh(i._repo,i,p),m(k,w)};_.userCallback=r.userCallback,_.context=r.context,r=_}const f=new oC(r,c||void 0),p=new Ju(f);return qE(i._repo,i,p),()=>Kh(i._repo,i,p)}function qh(i,t,r,o){return aC(i,"value",t,r,o)}uE(An);mE(An);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="FIREBASE_DATABASE_EMULATOR_HOST",mu={};let cC=!1;function dC(i,t,r,o){i.repoInfo_=new Np(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function fC(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Yh(c,a),p=f.repoInfo,m;typeof process<"u"&&ph&&(m=ph[uC]),m?(c=`http://${m}?ns=${p.namespace}`,f=Yh(c,a),p=f.repoInfo):f.repoInfo.secure;const _=new Nv(i.name,i.options,t);BE("Invalid Firebase Database URL",f),ne(f.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const k=pC(p,i,_,new Tv(i.name,r));return new mC(k,i)}function hC(i,t){const r=mu[t];(!r||r[i.key]!==i)&&tn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),XE(i),delete r[i.key]}function pC(i,t,r,o){let a=mu[t.name];a||(a={},mu[t.name]=a);let c=a[i.toURLString()];return c&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new VE(i,cC,r,o),a[i.toURLString()]=c,c}class mC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($E(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&tn("Cannot call "+t+" on a deleted database.")}}function gC(i=ev(),t){const r=qy(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=B_("database");o&&_C(r,...o)}return r}function _C(i,t,r,o={}){i=Gi(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&tn("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new ho(ho.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:W_(o.mockUserToken,i.app.options.projectId);c=new ho(f)}dC(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(i){cv(Zy),_o(new Ui("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return fC(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Rr(mh,gh,i),Rr(mh,gh,"esm2017")}Zt.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Zt.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};yC();var vC="firebase",wC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(vC,wC,"app");const EC={apiKey:"AIzaSyDSLCaBlIpV3_joru8XyBVvDhaBPrt6JaE",authDomain:"availability-poll.firebaseapp.com",projectId:"availability-poll",storageBucket:"availability-poll.firebasestorage.app",messagingSenderId:"13882600731",appId:"1:13882600731:web:c2e6859ac93ab584e337be",databaseURL:"https://availability-poll-default-rtdb.firebaseio.com/"},CC=up(EC),In=gC(CC),SC=()=>{const[i,t]=Tn.useState([{id:1,label:"Jan 15-21"},{id:2,label:"Jan 22-28"},{id:3,label:"Jan 29-Feb 4"},{id:4,label:"Feb 5-11"}]),[r,o]=Tn.useState([]),[a,c]=Tn.useState(""),[f,p]=Tn.useState(null),[m,_]=Tn.useState(""),[k,w]=Tn.useState(null);Tn.useEffect(()=>{const H=kn(In,"weeks"),re=kn(In,"participants"),ke=qh(H,ve=>{const Fe=ve.val();Fe&&t(Fe)},ve=>{console.error("Error loading weeks:",ve),w("Error loading data. Please refresh the page.")}),xe=qh(re,ve=>{const Fe=ve.val();if(Fe){const Mt=Object.values(Fe);o(Mt)}else o([])},ve=>{console.error("Error loading participants:",ve),w("Error loading data. Please refresh the page.")});return()=>{ke(),xe()}},[]);const I=async(H,re)=>{try{const ke=r.find(ve=>ve.id===H);if(!ke)return;const xe=[...ke.availability];xe[re]=!xe[re],await Nr(kn(In,`participants/${H}`),{...ke,availability:xe})}catch(ke){console.error("Error updating availability:",ke),w("Failed to update availability. Please try again.")}},O=async()=>{if(a.trim())try{const H={id:Date.now().toString(),name:a.trim(),availability:new Array(i.length).fill(!1)};await Nr(kn(In,`participants/${H.id}`),H),c("")}catch(H){console.error("Error adding participant:",H),w("Failed to add participant. Please try again.")}},F=async H=>{try{await lC(kn(In,`participants/${H}`))}catch(re){console.error("Error removing participant:",re),w("Failed to remove participant. Please try again.")}},b=H=>{p(H.id),_(H.label)},K=async()=>{if(m.trim())try{const H=i.map(re=>re.id===f?{...re,label:m.trim()}:re);await Nr(kn(In,"weeks"),H),p(null),_("")}catch(H){console.error("Error updating week label:",H),w("Failed to update week label. Please try again.")}},Le=async()=>{if(window.confirm("Are you sure you want to clear all data? This cannot be undone."))try{const H=[{id:1,label:"Jan 15-21"},{id:2,label:"Jan 22-28"},{id:3,label:"Jan 29-Feb 4"},{id:4,label:"Feb 5-11"}];await Nr(kn(In,"weeks"),H),await Nr(kn(In,"participants"),null)}catch(H){console.error("Error clearing data:",H),w("Failed to clear data. Please try again.")}},He=H=>{H.key==="Enter"&&O()};return X.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-md",children:[X.jsx("div",{className:"p-6 border-b border-gray-200",children:X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Weekly Availability Poll"}),X.jsx("button",{onClick:Le,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All Data"})]})}),k&&X.jsx("div",{className:"p-4 bg-red-50 text-red-600 border-b border-red-100",children:k}),X.jsxs("div",{className:"p-6",children:[X.jsx("div",{className:"mb-6",children:X.jsxs("div",{className:"flex gap-2 mb-4",children:[X.jsx("input",{type:"text",value:a,onChange:H=>c(H.target.value),onKeyPress:He,placeholder:"Enter your name",className:"border rounded px-3 py-2 flex-grow"}),X.jsx("button",{onClick:O,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Participant"})]})}),r.length>0?X.jsx("div",{className:"overflow-x-auto",children:X.jsxs("table",{className:"w-full border-collapse",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{className:"border p-2 bg-gray-50",children:"Participant"}),i.map(H=>X.jsx("th",{className:"border p-2 bg-gray-50",children:f===H.id?X.jsxs("div",{className:"flex gap-1",children:[X.jsx("input",{type:"text",value:m,onChange:re=>_(re.target.value),className:"w-full px-1 py-0.5 border rounded",onKeyPress:re=>re.key==="Enter"&&K(),autoFocus:!0}),X.jsx("button",{onClick:K,className:"text-blue-500 hover:text-blue-700",children:"Save"})]}):X.jsx("div",{className:"cursor-pointer hover:text-blue-500",onClick:()=>b(H),children:H.label})},H.id)),X.jsx("th",{className:"border p-2 bg-gray-50",children:"Actions"})]})}),X.jsx("tbody",{children:r.map(H=>X.jsxs("tr",{children:[X.jsx("td",{className:"border p-2",children:H.name}),H.availability.map((re,ke)=>X.jsx("td",{className:"border p-2 text-center cursor-pointer",onClick:()=>I(H.id,ke),children:X.jsx("div",{className:`w-6 h-6 mx-auto rounded-full ${re?"bg-green-500":"bg-gray-200"}`})},ke)),X.jsx("td",{className:"border p-2 text-center",children:X.jsx("button",{onClick:()=>F(H.id),className:"text-red-500 hover:text-red-700",children:"Remove"})})]},H.id))})]})}):X.jsx("div",{className:"text-center py-8 text-gray-500",children:"No participants yet. Add yourself to get started!"}),X.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[X.jsx("p",{children:"Click on the circles to toggle availability for each week"}),X.jsx("p",{children:"Click on week labels to edit them"}),X.jsx("p",{children:"Changes are automatically saved and synced across all users"})]})]})]})};function kC(){return X.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:X.jsx("div",{className:"max-w-4xl mx-auto",children:X.jsx(SC,{})})})}R_.createRoot(document.getElementById("root")).render(X.jsx(Tn.StrictMode,{children:X.jsx(kC,{})}));
